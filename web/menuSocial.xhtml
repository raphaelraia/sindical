<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Sindical - Menu Social</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" charset="UTF-8"/>
        <link rel="shortcut icon" href="#{facesContext.externalContext.requestContextPath}/Imagens/favicon.ico"/>  

        <style type="text/css">
            .ui-widget-content .ui-inputfield{ padding: 8px!important;} 
            .ui-button { padding: 3px!important; }            


            .ui-widget-content .ui-menu-list .ui-corner-all .ui-helper-clearfix .ui-menu-child .ui-shadow{
                margin-top: 20px!important;
            }
        </style>

        <script type="text/javascript">

        </script>        
    </h:head>

    <h:body>
        <!-- INICIA DIV wrap e main -->
        <div id="wrapx">
            <div id="mainx">
                <!-- INICIA DIV wrap e main -->  
                <f:subview id="header">
                    <ui:include src="templates/templatePrime.xhtml"/>
                </f:subview>
                <f:view>
                    <h:form id="formMenuSocial">
                        <p:panel style="border: 0px; margin: 0 auto;  width: #{configuracaoBean.resolucao.tipoResolucao.tamanho}; ">
                            <p:menubar>
                                <p:submenu label="Cadastro" icon="ui-icon-document" style="margin-right: 15px">

                                    <p:menuitem value="Associar / Física"       action="#{chamadaPaginaBean.pessoaFisica}"/>
                                    <p:menuitem value="Suspensão de Socio"      action="#{chamadaPaginaBean.pagina('suspensao', 'suspencaoBean')}" />
                                    <p:menuitem value="Convênio Médico"         action="#{chamadaPaginaBean.convenioMedico}" />
                                    <p:menuitem value="Seguro"                  action="#{chamadaPaginaBean.pagina('matriculaSeguro')}" />
                                    <p:menuitem value="Agendamento Financeiro"  action="#{chamadaPaginaBean.pagina('matriculaAgendamentoFinanceiro')}" />
                                    <p:menuitem value="Juridica"                action="#{chamadaPaginaBean.pessoaJuridica}" />

                                    <p:submenu label="Agendamentos">
                                        <p:menuitem value="Serviços"             action="#{chamadaPaginaBean.pagina('agendaServico')}" />
                                        <p:menuitem value="Horários"             action="#{chamadaPaginaBean.pagina('agendaHorarios')}" />
                                        <p:menuitem value="Cancelar Horários"    action="#{chamadaPaginaBean.pagina('agendaCancelarHorario')}" />
                                        <p:menuitem value="Acrescentar Horários" action="#{chamadaPaginaBean.pagina('agendaAcrescentarHorario')}" />
                                    </p:submenu>

                                    <p:submenu label="Convênio Empresas">
                                        <p:menuitem value="Convênio"            action="#{chamadaPaginaBean.pagina('convenio')}" />
                                        <p:menuitem value="Grupo Convênio"      action="#{chamadaPaginaBean.paginaSimples('GrupoConvenio', 'GRUPO CONVÊNIO')}" />
                                        <p:menuitem value="SubGrupo Convênio"   action="#{chamadaPaginaBean.pagina('subGrupoConvenio')}" />
                                    </p:submenu>

                                    <p:submenu label="Eventos">
                                        <p:submenu label="Baile">
                                            <p:menuitem value="Baile"               action="#{chamadaPaginaBean.baile}" />
                                            <p:menuitem value="Banda"               action="#{chamadaPaginaBean.bandas}" />
                                        </p:submenu>

                                        <p:submenu label="Campeonatos">
                                            <p:menuitem value="Agenda"                  action="#{chamadaPaginaBean.pagina('campeonato')}" />
                                            <p:menuitem value="Equipes"                 action="#{chamadaPaginaBean.pagina('equipe')}" />
                                            <p:menuitem value="Equipes do Campeonato"   action="#{chamadaPaginaBean.pagina('campeonatoEquipe')}" />
                                            <p:separator style="border-top: 1px solid #999999"/> 
                                            <p:menuitem value="Modalidade"              action="#{chamadaPaginaBean.paginaSimples('CampeonatoModalidade', 'CAMPEONATO MODALIDADE')}" />
                                            <p:menuitem value="Campeonato"              action="#{chamadaPaginaBean.pagina('descricaoEvento')}" />
                                        </p:submenu>

                                        <p:submenu label="Viagens">
                                            <p:menuitem value="Caravanas"           action="#{chamadaPaginaBean.caravana}" />
                                        </p:submenu>
                                    </p:submenu>

                                    <p:menuitem value="Desc. Serviço Empresa"   action="#{chamadaPaginaBean.pagina('descontoServicoEmpresa')}" />

                                    <p:submenu label="Carteirinha">
                                        <p:menuitem value="Autorizar" action="#{chamadaPaginaBean.autorizaCarteirinha()}"/>
                                        <p:menuitem value="Modelo" action="#{chamadaPaginaBean.pagina('modeloCarteirinha')}"/>
                                    </p:submenu>

                                    <p:menuitem value="Administradora"          action="#{chamadaPaginaBean.pagina('administradora')}" />
                                    <p:menuitem value="Cupom"                   action="#{chamadaPaginaBean.pagina('cupom')}" />

                                    <p:submenu label="Suporte">
                                        <p:menuitem value="Feriados"            action="#{chamadaPaginaBean.pagina('feriados')}" />
                                        <p:menuitem value="Validade Cartão"     action="#{chamadaPaginaBean.pagina('validadeCartao')}" />
                                        <p:menuitem value="Descrição Eventos"   action="#{chamadaPaginaBean.pagina('descricaoEvento')}" />
                                        <p:menuitem value="Grupo Evento"        action="#{chamadaPaginaBean.paginaSimples('GrupoEvento', 'GRUPO EVENTO')}" rendered="false"/>
                                        <p:menuitem value="Categoria do Sócio"  action="#{chamadaPaginaBean.pagina('categoria')}" />
                                        <p:menuitem value="Grupo Categoria"     action="#{chamadaPaginaBean.pagina('grupoCategoria')}" />
                                        <p:menuitem value="Parentesco"          action="#{chamadaPaginaBean.pagina('parentesco')}" />
                                        <p:menuitem value="Registro Empresarial" action="#{chamadaPaginaBean.pagina('registroEmpresarial')}" />
                                        <p:menuitem value="Sorteio Categoria"   disabled="true"/>
                                        <p:menuitem value="Sorteio Status"      disabled="true"/>
                                        <p:menuitem value="Período Mensalidade" action="#{chamadaPaginaBean.pagina('periodoMensalidade')}" />
                                    </p:submenu>

                                    <p:submenu label="Declarações">
                                        <p:menuitem value="Tipo" action="#{chamadaPaginaBean.pagina('declaracaoTipo')}" />
                                        <p:menuitem value="Grupo" action="#{chamadaPaginaBean.pagina('declaracaoGrupo')}" />
                                        <p:menuitem value="Emissão" action="#{chamadaPaginaBean.pagina('declaracaoPessoa')}" />
                                    </p:submenu>

                                </p:submenu>

                                <p:submenu label="Movimento" style="margin-right: 15px">
                                    <p:menuitem value="Movimentos a Receber"   action="#{chamadaPaginaBean.movimentosReceberSocial()}" />
                                    <p:menuitem value="Lançamento Individual"  action="#{chamadaPaginaBean.lancamentoIndividual}" />
                                    <p:menuitem value="Emissão de Guias"       action="#{chamadaPaginaBean.pagina('emissaoGuias')}" />
                                    <p:menuitem value="Extrato Tela Social"    action="#{chamadaPaginaBean.pagina('extratoTelaSocial')}"/>
                                    <p:menuitem value="Remessa"                    action="#{chamadaPaginaBean.pagina('remessa')}" />
                                    <p:submenu label="Agendamento">
                                        <p:menuitem value="Lançamentos"         action="#{chamadaPaginaBean.pagina('agendamentos', 'agendamentosBean')}" actionListener="#{agendamentosBean.verificaNaoAtendidos}"/>
                                        <p:menuitem value="Cancelamentos"       action="#{chamadaPaginaBean.pagina('cancelamentos')}" actionListener="#{agendamentosBean.verificaNaoAtendidos}"/>
                                        <p:menuitem value="Atendimentos"        action="#{chamadaPaginaBean.pagina('atendimentos')}" actionListener="#{agendamentosBean.verificaNaoAtendidos}"/>
                                    </p:submenu>
                                    <p:menuitem value="Autoriza Repro. Retorno" action="#{chamadaPaginaBean.pagina('autorizaReprocessamentoRetorno')}" />
                                    <p:submenu label="Eventos">
                                        <p:menuitem value="Convite Clube"       action="#{chamadaPaginaBean.conviteMovimento}"/>
                                        <p:submenu label="Caravana">
                                            <p:menuitem value="Vendas"          action="#{chamadaPaginaBean.pagina('vendasCaravana')}" />
                                            <p:menuitem value="Organizar"       action="#{chamadaPaginaBean.pagina('organizarCaravana')}" />
                                        </p:submenu>
                                        <p:menuitem value="Baile"           action="#{chamadaPaginaBean.vendasBaile}" />
                                        <p:menuitem value="Sorteio"             action="#{chamadaPaginaBean.pagina('sorteioMovimento')}" />
                                        <p:menuitem value="Cupom"               action="#{chamadaPaginaBean.pagina('cupomMovimento')}" />
                                        <p:menuitem value="Reunião"             action="#{chamadaPaginaBean.pagina('reuniao')}" />
                                    </p:submenu>
                                    <p:submenu label="Operações">
                                        <p:menuitem value="Transf. Entre Caixas" onclick="i_dlg_t.show()"/>
                                        <p:menuitem value="Fechamento de Caixa" action="#{chamadaPaginaBean.fechamentoCaixa()}"/>
                                        <p:menuitem value="Agendamento Valor Fixo" action="#{chamadaPaginaBean.cobrancaMensal()}" title="Agendamento Valor Fixo Mensal"/>
                                    </p:submenu>
                                    <p:submenu label="Boletos">
                                        <p:menuitem value="Geração Mensal"         action="#{chamadaPaginaBean.gerarBoleto()}" />
                                        <p:menuitem value="Impressão Mensal"       action="#{chamadaPaginaBean.impressaoBoletoSocial()}" />
                                        <p:menuitem value="Pesquisa Boletos"     action="#{chamadaPaginaBean.pagina('pesquisaBoletosSocial')}" />
                                        <p:menuitem value="Boletos Não Baixados" action="#{chamadaPaginaBean.pagina('boletoNaoBaixado')}" />
                                        <p:menuitem value="Retorno Banco (Social)" action="#{chamadaPaginaBean.retornoSocial()}" />
                                        <p:menuitem value="Cartas"                   action="#{chamadaPaginaBean.pagina('sisCarta')}" />
                                    </p:submenu>
                                    <p:menuitem value="Telemarketing" action="#{chamadaPaginaBean.pagina('telemarketing', 'tmktHistoricoBean')}"/>
                                    <p:menuitem value="Sócios Demissionados" action="#{chamadaPaginaBean.pagina('atualizaSocioDemissionado')}" title="Sócios Demissionados "/>
                                </p:submenu>    


                                <p:submenu label="Relatórios">
                                    <p:submenu label="Cadastral">
                                        <p:menuitem value="Sócios"              action="#{chamadaPaginaBean.relatorioSocios}" />
                                        <p:menuitem value="Sócios Inativos"     action="#{chamadaPaginaBean.pagina('relatorioSociosInativos')}" ajax="false"/>
                                        <p:menuitem value="Convites"            action="#{chamadaPaginaBean.relatorioConviteClube}"/>
                                        <p:menuitem value="Ficha Social Branco" action="#{sociosBean.imprimirFichaSocialVazia()}" ajax="false"/>
                                        <p:menuitem value="Convênio Médico"     action="#{chamadaPaginaBean.pagina('relatorioConvenioMedico')}" ajax="false"/>
                                        <p:menuitem value="Mala Direta"         action="#{chamadaPaginaBean.pagina('relatorioMalaDireta')}" ajax="false"/>
                                        <p:menuitem value="Cupom"               action="#{chamadaPaginaBean.pagina('relatorioCupom')}" ajax="false"/>
                                        <p:menuitem value="Frequência Catraca"  action="#{chamadaPaginaBean.pagina('frequenciaCatraca')}" ajax="false"/>
                                        <p:menuitem value="Mala Direta Grupo"   action="#{chamadaPaginaBean.paginaSimples('MalaDiretaGrupo', 'Mala Direta Grupo')}"/>
                                        <p:menuitem value="Campeonato"          action="#{chamadaPaginaBean.pagina('relatorioCampeonato')}" ajax="false"/>
                                        <p:menuitem value="Exame Médico"        action="#{chamadaPaginaBean.pagina('relatorioExameMedico')}" ajax="false"/>
                                    </p:submenu>
                                    <p:submenu label="Rotina">
                                        <p:menuitem value="Cartão Social"       action="#{chamadaPaginaBean.cartaoSocial}" />
                                        <p:menuitem value="Carnê Mensalidades"  action="#{chamadaPaginaBean.pagina('carneMensalidades')}" ajax="false"/>
                                    </p:submenu>
                                    <p:submenu label="Financeiro">
                                        <p:menuitem value="Movimentos"          action="#{chamadaPaginaBean.pagina('relatorioFinanceiroSocial')}" ajax="false"/>
                                        <p:menuitem value="Fechamento Guias"    action="#{chamadaPaginaBean.pagina('relatorioFechamentoGuias')}" ajax="false"/>
                                        <p:menuitem value="Fechamento Baile"    action="#{chamadaPaginaBean.pagina('relatorioFechamentoBaile')}" ajax="false"/>
                                        <p:menuitem value="Cobrança Externa"    action="#{chamadaPaginaBean.pagina('relatorioCobrancaExterna')}" ajax="false"/>
                                        <p:menuitem value="Desconto em Folha"   action="#{chamadaPaginaBean.pagina('relatorioDescontoFolha')}" ajax="false"/>
                                        <p:menuitem value="Campeonato"          action="#{chamadaPaginaBean.pagina('relatorioCampeonatoFinanceiro', 'relatorioCampeonato')}" ajax="false"/>
                                        <p:submenu label="Boletos">
                                            <p:menuitem value="Baixados (banco)"     action="#{chamadaPaginaBean.pagina('relatorioBoletosBaixados')}" ajax="false"/>
                                            <p:menuitem value="Resumo"          action="#{chamadaPaginaBean.pagina('relatorioResumoImpressaoBoletos')}" />
                                        </p:submenu>                                            
                                        <p:menuitem value="Movtos Não Gerados"  action="#{chamadaPaginaBean.pagina('relatorioMovimentosNaoGerados')}" title="Movimentos Não Gerados"/>
                                    </p:submenu>
                                </p:submenu>                            
                            </p:menubar> 
                            <p:panel styleClass="margin-top-max">
                                <h:panelGrid>
                                    <p:commandButton type="button" onclick="PF('i_dlg_socios_1').show()" rendered="#{socialBean.existPessoasMesmaMatricula}" update="i_panel_grid_socios_1" value="Constam a mesma pessoa mais de uma vez na mesma matrícula!" styleClass="font-color-red" />
                                    <p:commandButton type="button" onclick="PF('i_dlg_socios_2').show()" rendered="#{socialBean.existatriculaAtivaAtivacaoDesordenada}" update="i_panel_grid_socios_1" value="Matrícula Ativa com id_servico_pessoa menor que último, favor entrar em contato com nosso suporte técnico." styleClass="font-color-red"/>                                
                                </h:panelGrid>                                
                            </p:panel>
                        </p:panel>
                        <!-- TERMINAR MÉTODO DE ENVIO DE IMAGEM DO BOLETO / E VERSO -->
                        <p:panel id="i_panel_lateral_esq" style="border: 0px; width: 1024px; height: 350px; margin: 0 auto" rendered="false">
                            <div class="clear"></div>
                            <p:panel style="float: left; text-align: center; background: #f6f6f6; margin-top: 10px">
                                <center>
                                    <h:panelGrid>
                                        <p:commandLink style="font-weight: bold" value="Alterar imagem Boleto" actionListener="#{impressaoBoletoSocialBean.alterarPathImagem('frente')}" oncomplete="PF('dlg_upload').show();"/>
                                    </h:panelGrid>
                                </center>
                                <h:graphicImage value="/Cliente/#{controleUsuarioBean.clienteString}/Imagens/BannerPromoBoleto.png" width="200" /><br />
                            </p:panel>
                            <div class="clear"></div>
                            <p:panel style="float: left; text-align: center; background: #f6f6f6; margin-top: 10px">
                                <center>
                                    <h:panelGrid>
                                        <p:commandLink style="font-weight: bold" value="Alterar imagem VERSO do Boleto" actionListener="#{impressaoBoletoSocialBean.alterarPathImagem('verso')}" oncomplete="PF('dlg_upload').show();"/>
                                    </h:panelGrid>
                                </center>
                                <h:graphicImage value="/Cliente/#{controleUsuarioBean.clienteString}/Imagens/LogoBoletoVersoSocial.png" width="200" /><br />
                            </p:panel>
                        </p:panel>
                        <p:growl id="i_msg_t_g" showDetail="true" />  
                        <p:dialog widgetVar="i_dlg_socios_1" header="Lista de pessoas" resizable="false" modal="true" >
                            <h:panelGrid id="i_panel_grid_socios_1">
                                <p:dataTable value="#{socialBean.listPessoasMesmaMatricula}" var="pessoa" emptyMessage="Nenhum registro encontrado!" scrollable="true" scrollHeight="300" >
                                    <p:column headerText="Nome">
                                        #{pessoa.nome}
                                    </p:column>
                                    <p:column headerText="Documento">
                                        #{pessoa.documento}
                                    </p:column>
                                    <p:column width="30">
                                        <p:commandButton icon="ui-icon-contact" update=":formMenuSocial:i_pessoa_fisica_card" onclick="PF('dlg_pessoa_fisica_card').show()" action="#{pessoaCardBean.cardFisica(pessoa.id)}" title="Ver detalhes" />
                                    </p:column>
                                </p:dataTable>
                            </h:panelGrid>
                        </p:dialog>
                        <p:dialog widgetVar="i_dlg_socios_2" header="Lista de pessoas" resizable="false" modal="true">
                            <h:panelGrid id="i_panel_grid_socios_2">
                                <p:dataTable value="#{socialBean.listatriculaAtivaAtivacaoDesordenada}" var="pessoa"  emptyMessage="Nenhum registro encontrado!" scrollable="true" scrollHeight="300" >
                                    <p:column headerText="Nome">
                                        #{pessoa.nome}
                                    </p:column>
                                    <p:column headerText="Documento">
                                        #{pessoa.documento}
                                    </p:column>
                                    <p:column width="30">
                                        <p:commandButton icon="ui-icon-contact" update=":formMenuSocial:i_pessoa_fisica_card" onclick="PF('dlg_pessoa_fisica_card').show()" action="#{pessoaCardBean.cardFisica(pessoa.id)}" title="Ver detalhes" />
                                    </p:column>                                    
                                </p:dataTable>                                
                            </h:panelGrid>
                        </p:dialog>
                        <p:dialog widgetVar="dlg_pessoa_fisica_card" modal="true" resizable="false" height="400" width="400" header="Detalhes">
                            <p:ajax event="close" listener="#{pessoaCardBean.close}"/>  
                            <p:panel id="i_pessoa_fisica_card">
                                <ui:include src="templates/templatePessoaFisicaCard.xhtml" />
                            </p:panel>
                        </p:dialog>
                        <p:dialog widgetVar="i_dlg_t" header="Transferência entre Caixas" resizable="false" modal="true">
                            <p:messages id="i_msg_t" showDetail="true" closable="true" />  
                            <h:panelGrid style="clear: both; width: 100%; margin-top: 20px" columns="4">
                                <p:column>
                                    <h:outputLabel value="Meu Caixa"/><br />
                                    <p:selectOneMenu id="i_select_c2" value="#{fechamentoCaixaBean.idCaixa}" style="padding-right: 20px; margin-right: 20px">
                                        <p:ajax event="change" update="i_select_c2" global="false"/>
                                        <f:selectItems value="#{fechamentoCaixaBean.listaCaixa}"/>
                                    </p:selectOneMenu>
                                </p:column>

                                <p:column>
                                    <h:outputLabel value="Tipo de Transferência"/><br /><br />
                                    <h:outputLabel value="DINHEIRO" style="font-size: 12pt!important; font-weight: bold;  margin-right: 70px"/><br />
                                </p:column>

                                <p:column>
                                    <h:outputLabel value="Valor"/><br />
                                    <p:inputText id="i_valor_t" value="#{fechamentoCaixaBean.valorTransferencia}" style="margin-right: 15px" dir="rtl">
                                        <p:ajax event="change" update="i_valor_t" global="false"/>
                                    </p:inputText>
                                </p:column>

                                <p:column>
                                    <h:outputLabel value="Para o Caixa"/><br />
                                    <p:selectOneMenu id="i_select_cd" value="#{fechamentoCaixaBean.idCaixaDestino}" style="padding-right: 20px; margin-right: 15px">
                                        <p:ajax event="change" update="i_select_cd" global="false"/>
                                        <f:selectItems value="#{fechamentoCaixaBean.listaCaixaDestino}"/>
                                    </p:selectOneMenu>
                                </p:column>
                            </h:panelGrid>

                            <h:panelGrid>
                                <p:column>
                                    <p:commandButton global="false" value="Transferir" type="submit" styleClass="ui-confirmdialog-yes" action="#{fechamentoCaixaBean.transferir()}" update="i_msg_t i_msg_t_g i_valor_t" style="clear: both; float: left" icon="ui-icon-check" />  
                                    <p:commandButton value="Fechar"   type="button" styleClass="ui-confirmdialog-no" onclick="PF('i_dlg_t').hide()" style="float: left" icon="ui-icon-close"/>
                                </p:column>
                            </h:panelGrid>
                        </p:dialog>
                    </h:form>

                    <h:form id="imagem_boleto_social" enctype="multipart/form-data" acceptcharset="UTF-8">
                        <p:dialog id="i_dlg_anexo" widgetVar="dlg_upload" modal="true"  header="Alterar Imagem" >
                            <p:fileUpload label="Procurar"
                                          cancelLabel="Cancelar"
                                          uploadLabel="Anexar"
                                          mode="advanced"                                          
                                          sizeLimit="204800"
                                          update=":formMenuSocial:i_panel_lateral_esq"
                                          fileUploadListener="#{uploadFilesBean.upload}"
                                          oncomplete="PF('dlg_upload').hide()" />
                        </p:dialog>
                    </h:form>
                </f:view>
                <!-- FINALIZA div wrap main -->
            </div>
        </div>
        <!-- FINALIZA div wrap main -->
        <div id="footerx">
            <f:subview id="footer">
                <ui:include src="templates/templateFooter.xhtml"/>
            </f:subview>
        </div>
    </h:body>
</ui:composition>
