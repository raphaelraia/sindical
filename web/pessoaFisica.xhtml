<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:cc="http://java.sun.com/jsf/composite">

    <h:head>
        <title>Sindical - Pessoa Física</title>
        <meta http-equiv="X-UA-Compatible" content="IE=9" />
        <meta http-equiv="pragma" content="no-cache" /> 
        <meta http-equiv="cache-control" content="no-cache" /> 
        <meta http-equiv="expires" content="0" /> 
        <link rel="shortcut icon" href="#{facesContext.externalContext.requestContextPath}/Imagens/favicon.ico"/>  
        <style type="text/css">
            .ui-widget-content .ui-inputfield{ padding: 8px!important;} 
            .ui-button { padding: 3px!important;}
            .duas-colunas{width: 50%;}
            .leitor-biometrico-on {background-image: url("#{facesContext.externalContext.requestContextPath}/Imagens/biometric-on-icon.gif") !important;} 
            .leitor-biometrico-off {background-image: url("#{facesContext.externalContext.requestContextPath}/Imagens/biometric-off-icon.png") !important;}
            .column01{width: 100px;}
            .column02{width: 100%;}
            .column03{width: 50px;}
        </style>
    </h:head>
    <h:body>
        <!-- INICIA DIV wrap e main -->
        <div id="wrapx">
            <div id="mainx">
                <!-- INICIA DIV wrap e main -->          
                <f:subview id="header">
                    <ui:include src="templates/templatePrime.xhtml"/>
                </f:subview>
                <ui:include src="templates/templatePhotoCapture.xhtml" />
                <ui:include src="templates/templatePhotoUpload.xhtml" />
                <ui:include src="templates/templatePhotoCropper.xhtml" />
                <ui:include src="templates/templateLogHistory.xhtml" />
                <f:view>
                    <f:metadata>
                    </f:metadata>
                    <p:panel style="margin: 0 auto; border: 0; width: #{configuracaoBean.resolucao.tipoResolucao.tamanho}">
                        <h:form id="form_pessoa_fisica">
                            <p:growl id="i_msg_callback" autoUpdate="false" showDetail="true" showSummary="true" life="5000" />
                            <h:outputScript name="tradutor_primefaces.js" library="js" /> 
                            <p:outputLabel value="Cadastro Física" styleClass="fonteHeader"/>
                            <c:set scope="request" var="object" value="${fisicaBean.fisica}"/>
                            <div class="clear"></div>                            
                            <h:panelGrid id="i_panel_pessoa_fisica" style="width: 100%">
                                <h:panelGroup layout="block" id="id_msg_aviso_block">
                                    <h:outputText value="#{genericaMensagem.getHtmlMessage('error', 'CADASTRO BLOQUEADO')}" escape="false" rendered="#{fisicaBean.pessoaComplemento.bloqueiaObsAviso}" />
                                    <h:outputText value="#{genericaMensagem.getHtmlMessage('fatal', 'MENSAGEM DE BLOQUEIO', fisicaBean.pessoaComplemento.obsAviso)}" escape="false" rendered="#{not empty fisicaBean.pessoaComplemento.obsAviso}" />
                                </h:panelGroup>
                                <h:panelGroup layout="block" id="i_tabview_fisica">
                                    <p:tabView activeIndex="#{fisicaBean.indexPessoaFisica}" style="width: 100%" prependId="false">
                                        <p:ajax event="tabChange" listener="#{fisicaBean.accordion}" update=":form_pessoa_fisica:i_end_rendered :form_pessoa_fisica:i_tabview_fisica"/> 
                                        <p:tab title="Cadastro Pessoal">
                                            <h:outputScript name="script_primefaces.js" library="js" />
                                            <h:outputText value="#{genericaMensagem.getHtmlMessage('error', 'PESSOA CADASTRADA EM OPOSIÇÃO', '')}" escape="false" rendered="#{fisicaBean.pessoaOposicao}" />
                                            <p:messages id="id_valida_documento" showSummary="true" showDetail="true"  closable="true"/>
                                            <h:panelGrid id="i_panel_dados" columns="2" style="height: 400px; width: 100%" columnClasses="verticalAlignTop, verticalAlignTop">
                                                <p:column>
                                                    <p:panel styleClass="fundoCinza">
                                                        <h:panelGrid columns="6">
                                                            <p:column rendered="#{fisicaBean.fisica.id != -1}">
                                                                <h:panelGrid>
                                                                    <p:outputLabel value="Código"/>
                                                                    <p:inputText size="5" value="#{fisicaBean.fisica.pessoa.id}" readonly="true" styleClass="font-color-red bold text-center font-size-12 bg-yellow-ligth" title="Código pessoa física n°#{fisicaBean.fisica.id}"/>
                                                                </h:panelGrid>
                                                            </p:column>

                                                            <p:column>
                                                                <h:panelGrid>
                                                                    <p:outputLabel value="Cadastrado"/>
                                                                    <p:calendar size="8" value="#{fisicaBean.fisica.pessoa.dtCriacao}" pattern="dd/MM/yyyy" yearRange="c-1:c+1" mask="99/99/9999" locale="pt_BR">
                                                                        <p:ajax event="dateSelect" listener="#{fisicaBean.fisica.pessoa.selecionaDataCriacao}" />
                                                                    </p:calendar>                                                                
                                                                </h:panelGrid>
                                                            </p:column>

                                                            <p:column>
                                                                <h:panelGrid id="i_p_cpf">
                                                                    <p:outputLabel value="CPF" />
                                                                    <h:column>
                                                                        <h:column rendered="#{fisicaBean.alteraCpf}">
                                                                            <h:panelGrid columns="2">
                                                                                <p:inputMask size="13" value="#{fisicaBean.fisica.pessoa.documento}" mask="999.999.999-99" styleClass="text-center font-size-10 #{(fisicaBean.fisica.id != -1 and not empty fisicaBean.fisica.pessoa.documento) ? 'bg-green-ligth' : 'bg-yellow-ligth' } bold">
                                                                                    <p:ajax event="blur" listener="#{fisicaBean.existePessoaDocumento}"  />
                                                                                </p:inputMask>
                                                                                <p:commandButton icon="ui-icon-search" rendered="#{fisicaBean.fisica.id eq -1}" />
                                                                            </h:panelGrid>
                                                                        </h:column>
                                                                        <h:column rendered="#{!fisicaBean.alteraCpf}">
                                                                            <h:panelGrid style="width: 100%" columns="2">
                                                                                <p:inputText size="18" value="#{fisicaBean.fisica.pessoa.documento}" readonly="true" styleClass="text-center font-size-10 #{(fisicaBean.fisica.id != -1 and not empty fisicaBean.fisica.pessoa.documento) ? 'bg-green-ligth' : 'bg-yellow-ligth' } bold"/>
                                                                                <p:commandButton icon="ui-icon-pencil" update=":form_pessoa_fisica:i_solicita_alteracao" global="true" actionListener="#{fisicaBean.openRequest('cpf')}" oncomplete="PF('dlg_solicita_alteracao').show()" styleClass="margin-left" title="Solicitar alteração" />
                                                                            </h:panelGrid>
                                                                        </h:column>                                                                    
                                                                    </h:column>
                                                                </h:panelGrid>                                                                    
                                                            </p:column>

                                                            <p:column>
                                                                <h:panelGrid>
                                                                    <p:outputLabel value="RG" />
                                                                    <p:inputText size="10" maxlength="20" value="#{fisicaBean.fisica.rg}" styleClass="text-center">
                                                                        <p:ajax event="change" update="@this" />
                                                                    </p:inputText>                                                                
                                                                </h:panelGrid>
                                                            </p:column>

                                                            <p:column>
                                                                <h:panelGrid>
                                                                    <p:outputLabel value="Nascimento" />
                                                                    <p:calendar size="8" value="#{fisicaBean.fisica.dtNascimento}" pattern="dd/MM/yyyy" yearRange="c-120:c-0" navigator="true" mask="99/99/9999" converterMessage="Data de nascimento inválida - Formato 01/01/1900"  locale="pt_BR">
                                                                        <p:ajax event="dateSelect" update="@this i_idade"  listener="#{fisicaBean.fisica.selecionaDataNascimento}" />
                                                                        <p:ajax event="change" update="@this i_idade"  />
                                                                    </p:calendar>                                                                
                                                                </h:panelGrid>
                                                            </p:column>

                                                            <p:column>
                                                                <br />
                                                                <p:outputLabel id="i_idade" value="#{fisicaBean.fisica.idade}" style="font-weight: bold; font-size: 12pt!important"/>
                                                            </p:column>
                                                        </h:panelGrid>

                                                        <h:panelGrid columns="1" style="width: 100%">
                                                            <p:outputLabel value="Nome"/>
                                                            <h:column>
                                                                <p:inputText value="#{fisicaBean.fisica.pessoa.nome}" converter="#{toUpperCase}" style="width: 100%" styleClass="font-size-12 bg-yellow-ligth" rendered="#{fisicaBean.fisica.pessoa.id == -1}">
                                                                    <p:ajax event="change" update="@this" listener="#{fisicaBean.existePessoaNomeNascimento()}" />
                                                                </p:inputText>                                                            
                                                            </h:column>
                                                            <h:column>
                                                                <h:panelGrid style="width: 100%" columns="2">
                                                                    <p:inputText style="width: 100%" value="#{fisicaBean.fisica.pessoa.nome}" converter="#{toUpperCase}" title="Solicitar alteração #{fisicaBean.fisica.pessoa.id}" readonly="#{fisicaBean.fisica.pessoa.id != -1}" rendered="#{fisicaBean.fisica.pessoa.id != -1}" styleClass="bold" />
                                                                    <p:commandButton icon="ui-icon-pencil" update=":form_pessoa_fisica:i_solicita_alteracao" global="true" actionListener="#{fisicaBean.openRequest('nome')}" oncomplete="PF('dlg_solicita_alteracao').show()" rendered="#{fisicaBean.fisica.pessoa.id != -1}" styleClass="margin-left" title="Solicitar alteração"/>
                                                                </h:panelGrid>
                                                            </h:column>                                                        
                                                        </h:panelGrid>
                                                    </p:panel>

                                                    <h:panelGrid columns="4" style="margin-top: 10px">
                                                        <p:column>
                                                            <p:outputLabel value="Sexo"/><br />
                                                            <p:selectOneRadio value="#{fisicaBean.fisica.sexo}" style="margin-right: 25px">
                                                                <p:ajax event="change" update="@this i_panel_imagens"/>
                                                                <f:selectItem itemValue="F" itemLabel="Feminino" />
                                                                <f:selectItem itemValue="M" itemLabel="Masculino" />
                                                            </p:selectOneRadio>
                                                        </p:column>

                                                        <p:column>
                                                            <p:outputLabel value="Estado Civil" /><br />
                                                            <p:selectOneMenu value="#{fisicaBean.fisica.estadoCivil}" style="margin-right: 30px">
                                                                <p:ajax event="change" update="@this"/>
                                                                <f:selectItem itemValue="Amasiado(a)" itemLabel="Amasiado(a)"/>
                                                                <f:selectItem itemValue="Casado(a)" itemLabel="Casado(a)"/>
                                                                <f:selectItem itemValue="Desquitado(a)" itemLabel="Desquitado(a)"/>
                                                                <f:selectItem itemValue="Divorciado(a)" itemLabel="Divorciado(a)"/>
                                                                <f:selectItem itemValue="Indefinido" itemLabel="Indefinido" />
                                                                <f:selectItem itemValue="Separado(a)" itemLabel="Separado(a)"/>
                                                                <f:selectItem itemValue="Solteiro(a)" itemLabel="Solteiro(a)"/>
                                                                <f:selectItem itemValue="Viuvo(a)" itemLabel="Viúvo(a)"/>
                                                            </p:selectOneMenu>
                                                        </p:column>

                                                        <p:column>
                                                            <p:outputLabel value="Telefone" /><br />
                                                            <p:inputMask mask="(99) 9999-9999" size="13" maxlength="10" value="#{fisicaBean.fisica.pessoa.telefone1}" style="margin-right: 30px">
                                                                <p:ajax event="change" update="@this" />
                                                            </p:inputMask>
                                                        </p:column>

                                                        <p:column>
                                                            <p:outputLabel value="Telefone 2" /><br />
                                                            <p:inputMask mask="(99) 9999-9999" size="13" maxlength="10" value="#{fisicaBean.fisica.pessoa.telefone2}" style="margin-right: 30px">
                                                                <p:ajax event="change" update="@this" />
                                                            </p:inputMask>
                                                        </p:column>

                                                        <p:column>
                                                            <p:outputLabel value="Celular" /><br />
                                                            <p:inputText size="14" maxlength="10" value="#{fisicaBean.fisica.pessoa.telefone3}" styleClass="ddd_telefone">
                                                                <p:ajax event="change" update="@this" />
                                                            </p:inputText>
                                                        </p:column>

                                                        <p:column>
                                                            <p:outputLabel value="Celular 2"  /><br />
                                                            <p:inputMask size="14" maxlength="10" value="#{fisicaBean.fisica.pessoa.telefone4}" mask="#{mask.getTelefone(fisicaBean.fisica.pessoa.telefone4)}">
                                                                <p:ajax event="change" update="@this" />
                                                            </p:inputMask>
                                                        </p:column>
                                                    </h:panelGrid>

                                                    <h:panelGrid columns="2" columnClasses="duas-colunas" style="margin-top: 10px; width: 100%">
                                                        <p:column>
                                                            <p:outputLabel value="Nome do Pai"/><br />
                                                            <p:inputText maxlength="100" value="#{fisicaBean.fisica.pai}" converter="#{toUpperCase}" style="width: 100%">
                                                                <p:ajax event="blur" update="@this" />
                                                            </p:inputText>
                                                        </p:column>

                                                        <p:column>
                                                            <p:outputLabel value="Nome da Mãe"/><br />
                                                            <p:inputText maxlength="100" value="#{fisicaBean.fisica.mae}" converter="#{toUpperCase}" style="width: 100%">
                                                                <p:ajax event="blur" update="@this" />
                                                            </p:inputText>
                                                        </p:column>
                                                    </h:panelGrid>


                                                    <h:panelGrid columns="7" style="margin-top: 10px">
                                                        <p:column>
                                                            <p:outputLabel value="Órgão Emissor" title="Órgão emissor do RG"/><br />
                                                            <p:inputText size="8" value="#{fisicaBean.fisica.orgaoEmissaoRG}" converter="#{removeNumberToUpperCase}" style="text-align: center; margin-right: 10px">
                                                                <p:ajax event="blur" update="@this" />
                                                            </p:inputText>
                                                        </p:column>

                                                        <p:column>
                                                            <p:outputLabel value="UF Emissão" title="Emissão do RG" /><br />
                                                            <p:inputText size="5" maxlength="2" value="#{fisicaBean.fisica.ufEmissaoRG}" converter="#{removeNumberToUpperCase}" style="text-align: center; margin-right: 10px">
                                                                <p:ajax event="blur" update="@this" />
                                                            </p:inputText>
                                                        </p:column>

                                                        <p:column>
                                                            <p:outputLabel value="Carteira" /><br />
                                                            <p:inputText size="8" maxlength="9" value="#{fisicaBean.fisica.carteira}" style="margin-right: 10px">
                                                                <p:ajax event="blur" update="@this" />
                                                            </p:inputText>
                                                        </p:column>

                                                        <p:column>
                                                            <p:outputLabel value="Série" /><br />
                                                            <p:inputText size="3" maxlength="15" value="#{fisicaBean.fisica.serie}" style="margin-right: 10px">
                                                                <p:ajax event="blur" update="@this" />
                                                            </p:inputText>
                                                        </p:column>

                                                        <p:column>
                                                            <p:outputLabel value="Pis"/><br />
                                                            <p:inputMask size="13" value="#{fisicaBean.fisica.pis}" mask="999.999.999-**"  style="margin-right: 12px"/>
                                                        </p:column>

                                                        <p:column>
                                                            <p:outputLabel value="Atualização de Cadastro" /><br />
                                                            <p:inputMask id="i_recadastro" size="8" value="#{fisicaBean.fisica.pessoa.recadastroString}" mask="99/99/9999" readonly="true">
                                                                <p:ajax event="change" update="@this" />
                                                            </p:inputMask>
                                                            <p:commandButton icon="ui-icon-close" title="clique limpar" action="#{fisicaBean.clear(1)}" update="i_recadastro" styleClass="margin-left"/>
                                                        </p:column>

                                                        <p:column>
                                                            <br />
                                                            <p:commandButton icon="ui-icon-refresh" title="clique para data de hoje" onclick="PF('dlg_recadastro').show()" update=":form_pessoa_fisica:i_dlg_recadastro" action="#{fisicaBean.loadDataRecadastro}"/>
                                                        </p:column>
                                                    </h:panelGrid>

                                                    <h:panelGrid columns="3" style="margin-top: 10px" id="i_p_n">
                                                        <p:column>
                                                            <p:outputLabel value="Nacionalidade"/><br />
                                                            <p:selectOneMenu value="#{fisicaBean.pais}" style="width: 170px; margin-right: 10px">
                                                                <p:ajax event="change" update="@this i_p_n" />
                                                                <f:selectItems value="#{fisicaBean.listaPaises}"/>
                                                            </p:selectOneMenu>
                                                        </p:column>

                                                        <p:column>
                                                            <p:outputLabel value="Naturalidade" /><br />                                                
                                                            <p:commandButton  icon="ui-icon-search" value="#{fisicaBean.cidadeNaturalidade}" action="#{chamadaPaginaBean.cidade}" title="Pesquisar outra Naturalidade" disabled="#{fisicaBean.disabledNaturalidade}" style="margin-right: 10px"/>
                                                            <!-- <p:inputText  readonly="# {fisicaBean.readyOnlineNaturalidade}" size="70" title="Digite sua naturalidade"/> -->
                                                        </p:column>

                                                    </h:panelGrid>

                                                    <h:panelGrid columns="2" style="margin-top: 10px; width: 100%">
                                                        <p:column>
                                                            <p:outputLabel value="E-Mail"/><br />
                                                            <p:inputText label="Email" id="i_email" size="40" value="#{fisicaBean.fisica.pessoa.email1}" validatorMessage="Email inválido #{fisicaBean.fisica.pessoa.email1}" required="false" placeholder="Formato: meuemail@provedor.com" style="margin-right: 10px" converter="#{toLowerCase}">
                                                                <p:ajax event="blur" update="i_message_email i_email" />
                                                                <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
                                                            </p:inputText>
                                                            <p:message for="i_email" id="i_message_email" />
                                                        </p:column>

                                                        <p:column>
                                                            <p:outputLabel value="Profissão"/><br />
                                                            <p:selectOneMenu value="#{fisicaBean.idProfissao}" style="width: 300px" filter="true" filterMatchMode="startsWith" autoWidth="false">
                                                                <p:ajax event="change" update="@this"/>
                                                                <f:selectItems value="#{fisicaBean.listaProfissoes}"/>
                                                            </p:selectOneMenu>
                                                        </p:column>
                                                    </h:panelGrid>
                                                    <h:panelGrid columns="1" styleClass="margin-top-max">
                                                        <p:outputLabel value="Ultima alteração: #{fisicaBean.fisica.pessoa.atualizacao}" rendered="#{fisicaBean.fisica.pessoa.id != -1}" />
                                                        <p:commandLink update=":form_log_history:i_panel_history" oncomplete="PF('dlg_log_history').show()" title="Ver histórico de logs" action="#{logHistoryBean.load('pes_fisica', fisicaBean.fisica.id)}" rendered="#{fisicaBean.fisica.pessoa.id != -1}" value="Histórico de alterações" style="color: red;" disabled="#{fisicaBean.fisica.id == -1 or controleAcessoBean.verificarPermissao('historico_alteracao_logs', 4)}"/>
                                                    </h:panelGrid>
                                                </p:column>

                                                <p:column>
                                                    <p:panel header="Foto do Perfil" id="i_panel_imagens" style="width: 100%; height: 428px; text-align: center">
                                                        <h:column rendered="#{not empty fisicaBean.fisica.pessoa.fotoResource}">
                                                            <p:graphicImage name="#{fisicaBean.fisica.pessoa.fotoResource}" cache="false" style="max-width: 300px; max-height: 395px" />
                                                            <div class="clear"></div>
                                                        </h:column>
                                                    </p:panel>

                                                    <h:panelGrid columns="4">
                                                        <p:commandButton icon="photocam" value="Capturar" action="pessoaFisica" actionListener="#{photoCapture.openAndSave(fisicaBean.fisica, 'form_pessoa_fisica')}" title="Capturar Foto" global="false" disabled="#{fisicaBean.fisica.id == -1 or controleAcessoBean.verificarPermissao('libera_camera', 1)}"/>
                                                        <p:commandButton icon="ui-icon-arrowthick-1-n" value="Upload Foto" title="Enviar Foto" action="#{photoUpload.openAndSave(fisicaBean.fisica, 'form_pessoa_fisica')}" global="false" disabled="#{fisicaBean.fisica.id == -1 or controleAcessoBean.verificarPermissao('libera_upload', 1)}"/>
                                                        <p:commandButton icon="ui-icon-scissors" value="Cortar Foto" title="Cortar Foto" action="#{photoCropper.openAndSave(fisicaBean.fisica, 'form_pessoa_fisica')}" global="false" disabled="#{fisicaBean.fisica.id == -1 or (fisicaBean.fisica.pessoa.fotoResource eq 'images/user_male.png' or fisicaBean.fisica.pessoa.fotoResource eq 'images/user_female.png')}"/>
                                                        <p:commandButton icon="ui-icon-trash" title="Remover Foto" action="#{fisicaBean.apagarImagem()}" update="i_panel_imagens" disabled="#{fisicaBean.fisica.id == -1 or fisicaBean.fisica.foto == null or fisicaBean.fisica.foto eq ''}"/>
                                                    </h:panelGrid>
                                                </p:column>
                                            </h:panelGrid>


                                            <h:column rendered="#{fisicaBean.fisica.id != -1}">
                                                <p:panel style="margin-top: 10px" styleClass="fundoCinza">
                                                    <h:panelGrid columns="2" style="width: 100%">
                                                        <p:column rendered="#{fisicaBean.tipoCadastro == 2 or fisicaBean.tipoCadastro == 3}">
                                                            <p:outputLabel value="SÓCIO ( #{fisicaBean.tipoSocio} ) DESDE #{fisicaBean.socios.matriculaSocios.emissao}" style="font-weight: bold; font-size: 12pt!important"/>
                                                        </p:column>

                                                        <p:column rendered="#{fisicaBean.tipoCadastro == 4 or fisicaBean.tipoCadastro == 5}">
                                                            <p:outputLabel value="SÓCIO ( #{fisicaBean.tipoSocio} INATIVO ) DESDE #{fisicaBean.inativoDesde}" style="font-weight: bold; font-size: 12pt!important; color: #ff9900"/>
                                                        </p:column>

                                                        <p:column rendered="#{fisicaBean.tipoCadastro == -1 or fisicaBean.tipoCadastro == 1}">
                                                            <p:outputLabel value="ESTA PESSOA NÃO É ASSOCIADA" style="font-weight: bold; font-size: 12pt!important"/>
                                                        </p:column>

                                                        <p:column>
                                                            <h:panelGrid columns="1" style="float: right;" styleClass="text-center">
                                                                <p:column rendered="#{fisicaBean.tipoCadastro != 3}">
                                                                    <p:commandLink value="REATIVAÇÃO" onclick="PF('i_dlg_reativacao').show()" rendered="#{fisicaBean.listaSocioInativo.size() != 0}" styleClass="font-color-red bold" disabled="#{fisicaBean.editar}"/>
                                                                    <br />
                                                                    <br />
                                                                </p:column>

                                                                <p:column>
                                                                    <p:commandButton  title="Ver Cadastro / Associar" value="#{fisicaBean.lblSocio}" action="#{fisicaBean.associarFisica}" immediate="true" disabled="#{fisicaBean.editar}"/>
                                                                </p:column>

                                                            </h:panelGrid>
                                                        </p:column>
                                                    </h:panelGrid>

                                                    <h:panelGrid rendered="#{fisicaBean.tipoCadastro == 2 or fisicaBean.tipoCadastro == 3 or fisicaBean.tipoCadastro == 4 or fisicaBean.tipoCadastro == 5}" columns="9" style="width: 60%">
                                                        <p:column>
                                                            <p:outputLabel value="Nº. Matrícula " style="font-size: 10pt!important"/>
                                                            <p:outputLabel value="#{fisicaBean.socios.matriculaSocios.nrMatricula}" style="font-weight: bold; font-size: 10pt!important"/>
                                                        </p:column>

                                                        <p:column>
                                                            <p:outputLabel value="Grupo Categoria " style="font-size: 10pt!important"/>
                                                            <p:outputLabel value="#{fisicaBean.socios.matriculaSocios.categoria.grupoCategoria.grupoCategoria}" style="font-weight: bold; font-size: 10pt!important"/>
                                                        </p:column>

                                                        <p:column>
                                                            <p:outputLabel value="Categoria " style="font-size: 10pt!important"/>
                                                            <p:outputLabel value="#{fisicaBean.socios.matriculaSocios.categoria.categoria}" style="font-weight: bold; font-size: 10pt!important"/>
                                                        </p:column>
                                                    </h:panelGrid>

                                                    <p:messages showSummary="true" showDetail="true"  closable="true"/>

                                                    <p:dialog widgetVar="i_dlg_reativacao" header="Reativação" resizable="false" width="600" modal="true">
                                                        <h:panelGroup layout="block">
                                                            <p:dataTable value="#{fisicaBean.listaSocioInativo}" var="socios" rowIndexVar="index" emptyMessage="Clique para adicionar MAIS VENCIMENTO">
                                                                <p:column width="15">  
                                                                    <p:rowToggler rendered="#{not empty socios.matriculaSocios.motivo}"/>  
                                                                </p:column> 
                                                                <p:column headerText="Data" width="80" styleClass="text-center">
                                                                    <p:commandLink ajax="false" value="#{socios.matriculaSocios.inativo}" action="#{fisicaBean.associarFisica(socios.servicoPessoa.pessoa, socios)}" disabled="#{socios.matriculaSocios.id != fisicaBean.socios.matriculaSocios.id or controleAcessoBean.verificarPermissao('link_reativar_titular', 3)}" title="TITULAR 'REATIVAR' - LINK  (Alteração)"/>
                                                                </p:column>
                                                                <p:column headerText="Motivo">
                                                                    <p:commandLink ajax="false" value="#{socios.matriculaSocios.motivoInativacao.descricao}" action="#{fisicaBean.associarFisica(socios.servicoPessoa.pessoa, socios)}" disabled="#{socios.matriculaSocios.id != fisicaBean.socios.matriculaSocios.id or controleAcessoBean.verificarPermissao('link_reativar_titular', 3)}" title="TITULAR 'REATIVAR' - LINK (Alteração)"/>
                                                                </p:column>
                                                                <p:rowExpansion>
                                                                    #{socios.matriculaSocios.motivo}
                                                                </p:rowExpansion>
                                                            </p:dataTable>
                                                        </h:panelGroup>
                                                        <br />
                                                        <br />
                                                        <h:outputLabel value="* Clique no item da lista para reativar" styleClass="font-color-red"  />
                                                        <f:facet name="footer">
                                                            <p:commandButton value="Sair" type="button" styleClass="ui-confirmdialog-no" onclick="PF('i_dlg_reativacao').hide()" icon="ui-icon-close"/>
                                                        </f:facet>
                                                    </p:dialog>                                                
                                                </p:panel>
                                            </h:column>
                                        </p:tab>

                                        <p:tab title="Local de Trabalho" id="i_panel_profissao">
                                            <h:column>
                                                <p:messages id="msg_local_trabalho" showSummary="true" showDetail="true" closable="true"/>
                                                <p:panel header="#{fisicaBean.pessoaEmpresa.id eq -1 ? 'CADASTRAR' : ''} EMPREGO #{(fisicaBean.pessoaEmpresa.id ne -1 ) ? (fisicaBean.pessoaEmpresa.principal ? 'ATUAL (PRINCIPAL)' : 'ATUAL') : ''}">

                                                    <h:panelGrid columns="2" cellspacing="5">
                                                        <h:column>
                                                            <p:commandButton icon="ui-icon-search" title="Pesquisar Empresa" action="#{chamadaPaginaBean.pesquisaPessoaJuridica}" immediate="true" id="i_pesquisar_empresa"/>
                                                        </h:column>
                                                        <h:column>
                                                            <h:panelGrid columns="5" cellspacing="10">
                                                                <p:outputLabel value="PESQUISAR EMPRESA " rendered="#{fisicaBean.pessoaEmpresa.juridica.pessoa.id == -1}" style="border-bottom: 1px dashed gray; color: gray;" for="i_pesquisar_empresa"/>
                                                                <p:outputLabel value="CNPJ: #{fisicaBean.pessoaEmpresa.juridica.pessoa.documento} - #{fisicaBean.pessoaEmpresa.juridica.pessoa.nome}"  rendered="#{fisicaBean.pessoaEmpresa.juridica.pessoa.id != -1}" for="i_pesquisar_empresa"  style="font-weight: bold"/>
                                                                <p:commandButton icon="ui-icon-trash" action="#{fisicaBean.removerJuridicaPesquisada}" rendered="#{fisicaBean.renderJuridicaPesquisa}" />
                                                                <p:commandButton icon="ui-icon-contact" update=":form_pessoa_fisica:i_pessoa_juridica_card" action="#{pessoaCardBean.cardJuridica(fisicaBean.pessoaEmpresa.juridica.pessoa.id)}" oncomplete="PF('dlg_pessoa_juridica_card').show()" title="Ver detalhes" rendered="#{fisicaBean.pessoaEmpresa.juridica.pessoa.id != -1}"/>
                                                                <h:commandLink action="#{juridicaBean.editar(fisicaBean.pessoaEmpresa.juridica, true)}" value="Alterar cadastro" rendered="#{fisicaBean.pessoaEmpresa.juridica.pessoa.id != -1}" actionListener="#{chamadaPaginaBean.backButton}" />
                                                            </h:panelGrid>
                                                        </h:column>
                                                    </h:panelGrid>
                                                    <h:panelGroup rendered="#{fisicaBean.pessoaEmpresa.juridica.id ne -1}">
                                                        <h:panelGrid columns="2" cellspacing="10">
                                                            <p:outputLabel value="NOME FANTASIA: " />
                                                            <p:outputLabel value="#{fisicaBean.pessoaEmpresa.juridica.fantasia}" style="font-weight: bold" />
                                                        </h:panelGrid>

                                                        <h:panelGrid columns="4" cellspacing="10">
                                                            <h:column> 
                                                                <h:panelGrid>
                                                                    <p:outputLabel value="DT. ADMISSÃO" />
                                                                    <p:inputMask size="10" value="#{fisicaBean.pessoaEmpresa.admissao}" mask="99/99/9999" styleClass="text-center" converter="#{isDateString}">
                                                                        <p:ajax event="change" update="@this" global="false"/>
                                                                    </p:inputMask>
                                                                </h:panelGrid>
                                                            </h:column>

                                                            <h:column>
                                                                <h:panelGrid>
                                                                    <p:outputLabel value="DT. DEMISSÃO" />
                                                                    <p:inputMask size="10" value="#{fisicaBean.pessoaEmpresa.demissao}" mask="99/99/9999" styleClass="text-center" converter="#{isDateString}">
                                                                        <p:ajax event="change" update="@this" />
                                                                    </p:inputMask>
                                                                </h:panelGrid>
                                                            </h:column>

                                                            <h:column>
                                                                <h:panelGrid>
                                                                    <p:outputLabel value="CÓDIGO" />
                                                                    <p:inputText size="10" value="#{fisicaBean.pessoaEmpresa.codigo}" styleClass="text-center">
                                                                        <p:ajax event="change" update="@this" global="false"/>
                                                                    </p:inputText>
                                                                </h:panelGrid>
                                                            </h:column>

                                                            <h:column>
                                                                <h:panelGrid style="margin-left: 25px">
                                                                    <p:outputLabel value="REGISTRO" />
                                                                    <p:selectOneMenu value="#{fisicaBean.nrRegistro}" disabled="#{fisicaBean.pessoaEmpresa.id ne -1}">
                                                                        <p:ajax event="change" update="@this"/>
                                                                        <f:selectItems value="#{fisicaBean.listNrRegistro}" />
                                                                    </p:selectOneMenu>  
                                                                </h:panelGrid>
                                                            </h:column>
                                                        </h:panelGrid>                                
                                                        <h:panelGrid columns="5" cellspacing="10">


                                                            <h:column rendered="#{fisicaBean.profissao.id ne -1}">
                                                                <h:panelGroup id="idFuncao">                                                                
                                                                    <h:panelGrid columns="4" >
                                                                        <p:inputText size="5" value="#{fisicaBean.profissao.cbo}"  readonly="true" placeholder="CBO"/>
                                                                        <p:inputText size="40" value="#{fisicaBean.profissao.profissao}"  readonly="true" placeholder="Profissão"/>
                                                                        <p:inputText size="20" value="#{fisicaBean.pessoaEmpresa.setor}"  placeholder="Setor"/>
                                                                    </h:panelGrid>
                                                                </h:panelGroup>
                                                            </h:column>

                                                            <h:column rendered="#{fisicaBean.profissao.id ne -1}">

                                                            </h:column>

                                                            <h:column>
                                                                <p:commandButton icon="#{fisicaBean.profissao.id eq -1 ? 'ui-icon-search' : 'ui-icon-transfer-e-w' }" value="#{fisicaBean.profissao.id eq -1 ? 'PESQUISAR FUNÇÃO' : 'ALTERAR FUNÇÃO'}" onclick="PF('dgl_painel_profissao').show();" />
                                                            </h:column>
                                                        </h:panelGrid>
                                                    </h:panelGroup>
                                                    <f:facet name="footer">
                                                        <h:panelGrid columns="2" rendered="#{fisicaBean.fisica.id != -1}">
                                                            <p:commandButton value="#{fisicaBean.pessoaEmpresa.id == -1 ? 'Adicionar Empresa' : 'Atualizar'}" action="#{fisicaBean.adicionarEmpresa()}" update="i_tbl_empresa_b, :form_pessoa_fisica:" rendered="#{fisicaBean.pessoaEmpresa.juridica.id != -1}"/>
                                                            <p:commandButton value="Nova" action="#{fisicaBean.novaEmpresa}" update="i_tbl_empresa_b, :form_pessoa_fisica:" rendered="#{fisicaBean.fisica.id != -1 and fisicaBean.pessoaEmpresa.id != -1 and fisicaBean.pessoaEmpresa.principal}"/>                                                            
                                                        </h:panelGrid>
                                                    </f:facet>

                                                </p:panel>

                                                <p:panel id="i_tbl_empresa" header="Outras Empresas" styleClass="margin-top-max" rendered="#{not empty fisicaBean.listaPessoaEmpresa}">
                                                    <p:dataTable id="i_tbl_empresa_b" var="pessoaEmpresa" value="#{fisicaBean.listaPessoaEmpresa}" styleClass="margin-top-max" emptyMessage="Nenhum registro encontrado!" >
                                                        <p:column width="30" rendered="#{segurancaUtilitariosBean.sessaoUsuario.id eq 1}">
                                                            <h:column rendered="#{!pessoaEmpresa.socio}">
                                                                <p:commandButton icon="ui-icon-pencil" action="#{fisicaBean.editPessoaEmpresaEdit(pessoaEmpresa)}"  title="EDIÇÃO PARA ADMINISTRADOR"/>
                                                            </h:column>
                                                        </p:column>
                                                        <p:column headerText="Documento" style="width: 110px; text-align: center">
                                                            <p:outputLabel value="#{pessoaEmpresa.juridica.pessoa.documento}"/>
                                                        </p:column>
                                                        <p:column headerText="Nome">
                                                            <p:outputLabel value="#{pessoaEmpresa.juridica.pessoa.nome}" title="#{pessoaEmpresa.juridica.pessoa.nome}"/>
                                                        </p:column>
                                                        <p:column headerText="Setor" style="width: 110px; text-align: center">
                                                            <p:outputLabel value="#{pessoaEmpresa.setor}"/>
                                                        </p:column>
                                                        <p:column headerText="Admissão" style="width: 80px; text-align: center">
                                                            <p:outputLabel value="#{pessoaEmpresa.admissao}"/>
                                                        </p:column>
                                                        <p:column headerText="Demissão" style="width: 80px; text-align: center">
                                                            <p:outputLabel value="#{pessoaEmpresa.demissao}"/>
                                                        </p:column>
                                                        <p:column headerText="CBO / Função">
                                                            <p:outputLabel value="#{pessoaEmpresa.funcao.cbo} - #{pessoaEmpresa.funcao.profissao}" title="#{pessoaEmpresa.funcao.cbo} - #{pessoaEmpresa.funcao.profissao}"/>
                                                        </p:column>
                                                        <p:column styleClass="text-center">
                                                            <p:outputLabel value="#{pessoaEmpresa.socio ? 'SÓCIO DA EMPRESA' : ''}" styleClass="bold font-color-red"/>
                                                        </p:column>
                                                        <p:column headerText="Nr. Registro" styleClass="text-center">
                                                            <p:outputLabel value="#{pessoaEmpresa.nrRegistro}" styleClass="bold font-size-14"/>
                                                        </p:column>
                                                        <p:column width="30">
                                                            <h:column rendered="#{!pessoaEmpresa.socio}">
                                                                <p:commandButton icon="ui-icon-trash" action="#{fisicaBean.excluirEmpresaAnterior(pessoaEmpresa)}" update="i_tbl_empresa_b, :form_pessoa_fisica:"  title="Remover Difinitivamente essa Empresa"/>                                                            
                                                            </h:column>
                                                        </p:column>                                
                                                        <p:column width="30">
                                                            <h:column rendered="#{!pessoaEmpresa.socio}">
                                                                <h:column rendered="#{pessoaEmpresa.dtDemissao == null}">
                                                                    <p:commandButton icon="ui-icon-arrowthick-2-e-w" action="#{fisicaBean.alterarEmpresaAtual(pessoaEmpresa)}" update="i_tbl_empresa_b, :form_pessoa_fisica:"  title="Alterar Empresa Atual" rendered="#{!pessoaEmpresa.principal}"/>
                                                                </h:column>
                                                            </h:column>
                                                        </p:column>                                
                                                        <p:column width="60" styleClass="text-center">
                                                            <h:column rendered="#{pessoaEmpresa.principal}">
                                                                Principal
                                                            </h:column>
                                                        </p:column>                                
                                                    </p:dataTable>
                                                </p:panel>
                                            </h:column>
                                        </p:tab>

                                        <p:tab title="Complemento" id="i_tab_complemento">
                                            <p:messages id="id_message_complemento" showSummary="true" showDetail="true" closable="true"/>
                                            <h:panelGrid columns="1">
                                                <p:column>
                                                    <p:outputLabel value="Observações"/><br />
                                                    <p:inputTextarea cols="112" rows="3" maxlength="1000" value="#{fisicaBean.fisica.pessoa.obs}" />
                                                </p:column>
                                            </h:panelGrid>

                                            <h:panelGrid columns="1">
                                                <p:column>
                                                    <p:outputLabel value="Site"/><br />
                                                    <p:inputText size="50" value="#{fisicaBean.fisica.pessoa.site}" />
                                                </p:column>

                                            </h:panelGrid>


                                            <h:panelGrid columns="2">
                                                <p:column>
                                                    <p:outputLabel value="E-Mail 2"/><br />
                                                    <p:inputText id="i_email_2" size="50" value="#{fisicaBean.fisica.pessoa.email2}" validatorMessage="Email inválido " required="false" placeholder="Formato: meuemail@provedor.com">
                                                        <p:ajax event="blur" update=":form_pessoa_fisica:i_panel_pessoa_fisica" />
                                                        <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
                                                    </p:inputText>        
                                                </p:column>

                                                <p:column>
                                                    <p:outputLabel value="E-Mail 3"/><br />
                                                    <p:inputText id="i_email_3" size="50" value="#{fisicaBean.fisica.pessoa.email3}" validatorMessage="Email inválido " required="false" placeholder="Formato: meuemail@provedor.com">
                                                        <p:ajax event="blur" update=":form_pessoa_fisica:i_panel_pessoa_fisica" />
                                                        <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
                                                    </p:inputText>  
                                                </p:column>
                                                <p:message for="i_email_2" />                                            
                                                <p:message for="i_email_3" />
                                            </h:panelGrid>



                                            <h:panelGrid columns="2">
                                                <p:column>
                                                    <p:outputLabel value="NIT"/><br />
                                                    <p:inputMask size="30" maxlength="11" value="#{fisicaBean.fisica.nit}" mask="999.99999.99-9" />
                                                </p:column>

                                                <p:column>
                                                    <p:outputLabel value="Data de Aposentadoria"/><br />
                                                    <p:inputMask value="#{fisicaBean.fisica.aposentadoria}" mask="99/99/9999" size="10" converter="#{isDateString}">
                                                        <p:ajax event="change" update="@this" />
                                                    </p:inputMask>                                    
                                                </p:column>
                                            </h:panelGrid>

                                            <h:panelGrid columns="3">
                                                <p:column>
                                                    <p:outputLabel value="Título de Eleitor"/><br />
                                                    <p:inputText size="20" maxlength="20" value="#{fisicaBean.fisica.tituloEleitor}" />
                                                </p:column>

                                                <p:column>
                                                    <p:outputLabel value="Seção"/><br />
                                                    <p:inputText size="20" maxlength="20" value="#{fisicaBean.fisica.tituloSecao}" />
                                                </p:column>

                                                <p:column>
                                                    <p:outputLabel value="Zona"/><br />
                                                    <p:inputText size="20" maxlength="20" value="#{fisicaBean.fisica.tituloZona}" />
                                                </p:column>
                                            </h:panelGrid>

                                            <h:panelGrid columns="3" cellspacing="5">
                                                <p:selectBooleanCheckbox value="#{fisicaBean.habilitaMalaDireta}" itemLabel="Habilita Mala Direta" disabled="#{fisicaBean.fisica.id == -1}">
                                                    <p:ajax event="change" update="@this i_combo_complemento :form_pessoa_fisica:id_message_complemento" listener="#{fisicaBean.saveMalaDireta}"/>
                                                </p:selectBooleanCheckbox>
                                                <h:panelGrid id="i_combo_complemento">
                                                    <p:selectOneMenu value="#{fisicaBean.idMalaDiretaGrupo}" style="margin-right: 30px; padding-right: 20px" rendered="#{fisicaBean.habilitaMalaDireta}" >
                                                        <p:ajax event="change" update="@this :form_pessoa_fisica:id_message_complemento" listener="#{fisicaBean.saveMalaDireta}"/>
                                                        <f:selectItems value="#{fisicaBean.listMalaDiretaGrupo}" />
                                                    </p:selectOneMenu>                                            
                                                </h:panelGrid>
                                            </h:panelGrid>

                                        </p:tab>

                                        <p:tab id="idPessoaComplemento" title="Financeiro" >
                                            <ui:include src="pessoaComplemento.xhtml" id="idPessoaComplementoX">  
                                                <ui:param name="idPessoa" value="#{fisicaBean.fisica.pessoa.id}" />  
                                            </ui:include>
                                        </p:tab>

                                    </p:tabView>
                                </h:panelGroup>

                                <!-- ENDEREÇO -->
                                <h:panelGrid id="i_end_rendered">
                                    <p:accordionPanel id="i_acc_tab_endereco" activeIndex="#{fisicaBean.indexNovoEndereco}" widgetVar="wdg_acc_end" rendered="#{fisicaBean.indexPessoaFisica != 1}">
                                        <p:tab id="i_tab_endereco" title="Endereço da Pessoa Física #{fisicaBean.strEndereco}" closable="#{fisicaBean.listaPessoaEndereco.size() == 0}">
                                            <h:panelGrid id="i_panel_add_endereco">
                                                <h:panelGrid columns="2" rendered="#{fisicaBean.enderecox.id == -1 and fisicaBean.listaPessoaEndereco.size() == 0}">
                                                    <p:commandButton onclick="PF('dlg_pesquisa_endereco').show()" value="Pesquisar endereço" action="#{pesquisaEnderecoBean.put('pessoaFisica')}" update="@this :form_pessoa_fisica:i_pesquisa_endereco"/>
                                                </h:panelGrid>

                                                <h:panelGrid rendered="#{fisicaBean.enderecox.id != -1 and fisicaBean.listaPessoaEndereco.size() == 0}">
                                                    <h:panelGrid columns="1">
                                                        <p:outputLabel value="#{fisicaBean.enderecoCompleto}" style="font-size: 12pt!important; color: red;" title="Endereço para Cobrança"/>
                                                    </h:panelGrid>

                                                    <h:panelGrid columns="3">
                                                        <p:column>
                                                            <p:outputLabel value="Número"/><br />
                                                            <p:inputText size="10" value="#{fisicaBean.numero}" />
                                                        </p:column>

                                                        <p:column>
                                                            <p:outputLabel value="Complemento"/><br />
                                                            <p:inputText size="35" value="#{fisicaBean.complemento}" />
                                                        </p:column>

                                                        <p:column>
                                                            <br />
                                                            <p:commandButton icon="ui-icon-plus"  action="#{fisicaBean.adicionarEnderecos}" update="i_panel_grid_pendereco i_panel_add_endereco i_acc_tab_endereco" title="Adicionar"/>
                                                        </p:column>
                                                    </h:panelGrid>
                                                </h:panelGrid>
                                            </h:panelGrid>

                                            <h:panelGrid id="i_panel_grid_pendereco">
                                                <p:dataTable value="#{fisicaBean.listaPessoaEndereco}" var="pessoaEndereco" scrollable="true" scrollHeight="150" emptyMessage="Nenhum resultado encontrado" rowIndexVar="index" rendered="#{fisicaBean.listaPessoaEndereco.size() > 0}">
                                                    <p:column width="25">
                                                        <p:commandButton icon="ui-icon-pencil" action="#{fisicaBean.editarPessoaEndereco(pessoaEndereco, index)}" title="Editar Endereço de #{pessoaEndereco.tipoEndereco.descricao}" oncomplete="PF('i_dlg_editar_endereco').show()" update=":form_pessoa_fisica:i_panel_editar_endereco"/>
                                                    </p:column>
                                                    <p:column headerText="Tipo">
                                                        <p:outputLabel value="#{pessoaEndereco.tipoEndereco.descricao}" />
                                                    </p:column>
                                                    <p:column headerText="Logradouro" styleClass="text-center">
                                                        <p:outputLabel value="#{pessoaEndereco.endereco.logradouro.descricao}"/>
                                                    </p:column>
                                                    <p:column headerText="Descrição">
                                                        <p:outputLabel value="#{pessoaEndereco.endereco.descricaoEndereco.descricao}, #{pessoaEndereco.numero}"/>
                                                    </p:column>
                                                    <p:column headerText="Complemento">
                                                        <p:outputLabel value="#{pessoaEndereco.complemento}"/>
                                                    </p:column>
                                                    <p:column headerText="Bairro">
                                                        <p:outputLabel value="#{pessoaEndereco.endereco.bairro.descricao}"/>
                                                    </p:column>
                                                    <p:column headerText="Cidade / UF">
                                                        <p:outputLabel value="#{pessoaEndereco.endereco.cidade.cidade} - #{pessoaEndereco.endereco.cidade.uf}"/>
                                                    </p:column>
                                                    <p:column headerText="CEP" width="80" styleClass="text-center">
                                                        <p:outputLabel value="#{pessoaEndereco.endereco.cep}"/>
                                                    </p:column>
                                                </p:dataTable>
                                            </h:panelGrid>

                                        </p:tab>
                                    </p:accordionPanel>
                                </h:panelGrid>

                                <p:dialog id="i_panel_editar_endereco" widgetVar="i_dlg_editar_endereco" header="Editar Endereço de #{fisicaBean.pessoaEndereco.tipoEndereco.descricao.toUpperCase()}" resizable="false" width="600" modal="true" visible="#{fisicaBean.visibleEditarEndereco}">
                                    <h:panelGrid>
                                        <h:panelGrid columns="1">
                                            <p:commandLink value="#{fisicaBean.pessoaEndereco.endereco.logradouro.descricao} 
                                                           #{fisicaBean.pessoaEndereco.endereco.descricaoEndereco.descricao} , 
                                                           #{fisicaBean.pessoaEndereco.endereco.cidade.cidade} - 
                                                           #{fisicaBean.pessoaEndereco.endereco.cidade.uf}" style="font-size: 12pt!important; color: red;" action="#{chamadaPaginaBean.pesquisaEndereco()}" title="Clique para editar este Endereço"/>
                                        </h:panelGrid>

                                        <h:panelGrid columns="2">
                                            <p:column>
                                                <p:outputLabel value="Número"/><br />
                                                <p:inputText size="10" value="#{fisicaBean.pessoaEndereco.numero}" />
                                            </p:column>

                                            <p:column>
                                                <p:outputLabel value="Complemento"/><br />
                                                <p:inputText size="35" value="#{fisicaBean.pessoaEndereco.complemento}" />
                                            </p:column>
                                        </h:panelGrid>
                                    </h:panelGrid>
                                    <f:facet name="footer">
                                        <h:panelGrid columns="3">
                                            <p:commandButton value="Alterar"  type="submit" styleClass="ui-confirmdialog-yes" action="#{fisicaBean.alterarEndereco}" update="i_acc_tab_endereco" onclick="PF('i_dlg_editar_endereco').hide()"  icon="ui-icon-check"/>  
                                            <p:commandButton value="Alterar Todos"  type="submit" styleClass="ui-confirmdialog-yes" action="#{fisicaBean.alterarTodosEndereco()}" update="i_acc_tab_endereco" onclick="PF('i_dlg_editar_endereco').hide()"  icon="ui-icon-check"/>  
                                            <p:commandButton value="Cancelar" styleClass="ui-confirmdialog-no" onclick="PF('i_dlg_editar_endereco').hide()"  icon="ui-icon-close" action="#{fisicaBean.setVisibleEditarEndereco(false)}"/>
                                        </h:panelGrid>                                            
                                    </f:facet>
                                </p:dialog>

                                <h:panelGrid columns="11">
                                    <p:commandButton value="Voltar" action="#{chamadaPaginaBean.back()}" icon="ui-icon-arrowreturnthick-1-w" title="Voltar" immediate="true" actionListener="#{fisicaBean.editarFisica(fisicaBean.fisica)}" rendered="#{fisicaBean.cadastrar or fisicaBean.editar}"/>
                                    <h:column>
                                        <p:commandButton value="Salvar" disabled="#{controleAcessoBean.botaoSalvar}" oncomplete="PF('dlg_painel_salvar').show();" rendered="#{fisicaBean.fisica.id == -1}" update=":form_pessoa_fisica:i_painel_salvar" />
                                        <p:commandButton value="Salvar" disabled="#{controleAcessoBean.botaoAlterar}" oncomplete="PF('dlg_painel_salvar').show();" rendered="#{fisicaBean.fisica.id != -1}" update=":form_pessoa_fisica:i_painel_salvar" />
                                    </h:column>
                                    <h:column rendered="#{!fisicaBean.editar}">
                                        <p:commandButton value="Novo" action="#{fisicaBean.novo}" rendered="#{!fisicaBean.cadastrar}"/>                                        
                                    </h:column>
                                    <p:commandButton value="Excluir" disabled="#{controleAcessoBean.botaoExcluir}" onclick="PF('dlg_painel_excluir').show();" rendered="#{fisicaBean.fisica.id != -1 and !fisicaBean.editar}" />
                                    <p:commandButton value="Pesquisar" action="#{chamadaPaginaBean.pesquisaPessoaFisica}" rendered="#{!fisicaBean.cadastrar and !fisicaBean.editar}"/>
                                    <p:commandButton value="Extrato" rendered="#{fisicaBean.fisica.id != -1 and !fisicaBean.editar}" action="#{fisicaBean.telaMovimentosReceberSocial}" ajax="false"/>
                                    <h:column rendered="#{!fisicaBean.editar}">
                                        <p:commandButton value="#{fisicaBean.fisicaMei ? 'MEI - Cadastro' : 'CADASTRAR MEI'}" rendered="#{segurancaUtilitariosBean.registro.mei and fisicaBean.fisica.id != -1}" action="#{fisicaBean.pessoaJuridicaMei()}" styleClass="font-color-blue bold" icon="ui-icon-bookmark" immediate="true"/>                                        
                                    </h:column>
                                    <p:commandButton value="INFORMAÇÕES CADASTRAIS" rendered="#{fisicaBean.fisica.id != -1}" action="#{chamadaPaginaBean.pagina('pessoa')}" styleClass="font-color-red bold" icon="ui-icon-plus" actionListener="#{genericaSessao.putString('tipoPessoa', 'pessoaFisica')}" immediate="true"/>
                                    <h:column>
                                        <h:panelGrid id="i_app_message">
                                            <h:panelGrid rendered="#{biometriaBean.openBiometria and fisicaBean.fisica.id != -1}" columns="3">
                                                <h:column>
                                                    <p:commandButton value="Leitor Biométrico" icon="leitor-biometrico-on" rendered="#{biometriaBean.status}" title="Online" action="#{biometriaBean.gravar(fisicaBean.fisica.pessoa)}" onclick="PF('dlg_waiting_biometria').show()" update=":form_aplicativos:" immediate="true" />
                                                </h:column>
                                                <p:commandButton value="Leitor Biométrico" icon="leitor-biometrico-off" rendered="#{!biometriaBean.status}" disabled="#{!biometriaBean.status}"  title="Offline" />
                                                <p:commandLink value="Biometria cadastrada" rendered="#{biometriaBean.complete()}" styleClass="font-color-green" onclick="PF('dlg_delete_biometria').show()" style="color: red"/>
                                            </h:panelGrid>                                        
                                        </h:panelGrid>                                        
                                    </h:column>
                                    <p:commandButton value="Solicitações" title="Solicitações de alteração" onclick="PF('dlg_solicitacoes').show();" update=":form_pessoa_fisica:i_solicitacoes" actionListener="#{fisicaBean.loadListSisAutorizacoes}" rendered="#{fisicaBean.fisica.id != -1}" />
                                </h:panelGrid>

                                <p:dialog modal="true" width="400" widgetVar="dlg_mensagem_aviso" closable="false" header="Aviso" visible="#{fisicaBean.visibleMsgAviso}">
                                    <h:panelGrid>
                                        <h:outputLabel value="#{fisicaBean.mensagemAviso}" style="font-size: 12pt!important"/>
                                    </h:panelGrid>

                                    <f:facet name="footer">
                                        <h:panelGrid columns="3">
                                            <p:commandButton icon="ui-icon-check" value="OK" title="Ok e Fechar" action="#{fisicaBean.closeMensagemAviso()}" update="form_pessoa_fisica" oncomplete="PF('dlg_mensagem_aviso').hide()" />
                                        </h:panelGrid>
                                    </f:facet>
                                </p:dialog>

                                <!-- PESQUISAR PROFISSAO -->
                                <p:dialog modal="true" width="650" height="400" widgetVar="dgl_painel_profissao" closable="true" header="Pesquisar Profissão">
                                    <h:panelGrid id="i_painel_profissao">
                                        <h:panelGrid columns="7">
                                            <p:column>
                                                <h:outputLabel value="Profissão" /><br />
                                                <p:inputText size="20" value="#{fisicaBean.descricaoProfissao}" onkeypress="return event.keyCode !== 13;">
                                                    <p:ajax event="change" update="@this" />
                                                </p:inputText>
                                            </p:column>

                                            <p:column>
                                                <br />
                                                <p:commandButton value="Inicial" action="#{fisicaBean.inicial}" update="i_tbl_prof" />
                                            </p:column>

                                            <p:column>
                                                <br />
                                                <p:commandButton value="Parcial" action="#{fisicaBean.parcial}" update="i_tbl_prof" />
                                            </p:column>

                                            <p:column>
                                                <p:outputLabel value="Por" /><br />
                                                <p:selectOneMenu id="idPor" value="#{fisicaBean.combo}" style="padding-right: 20px" filter="true" filterMatchMode="startsWith">
                                                    <f:selectItem itemValue="profissao"  itemLabel="Profissão"/>
                                                    <f:selectItem itemValue="cbo" itemLabel="Cbo"/>
                                                </p:selectOneMenu>
                                            </p:column>

                                            <p:column>
                                                <br />
                                                <p:commandButton value="Cadastrar Novo" action="#{chamadaPaginaBean.profissao}" icon="ui-icon-plus" title="Cadastrar nova profissão"/>
                                            </p:column>
                                        </h:panelGrid>


                                        <p:dataTable id="i_tbl_prof" var="profissao" value="#{fisicaBean.listaProfissao}" emptyMessage="Nenhum registro Encontrado!">
                                            <p:column headerText="Cbo" styleClass="text-center">
                                                <p:commandLink action="#{fisicaBean.editar(profissao)}" value="#{profissao.cbo}" update=":form_pessoa_fisica"  oncomplete="PF('dgl_painel_profissao').hide()"/>
                                            </p:column>
                                            <p:column headerText="Profissão" >
                                                <p:commandLink action="#{fisicaBean.editar(profissao)}" value="#{profissao.profissao}" update=":form_pessoa_fisica"  oncomplete="PF('dgl_painel_profissao').hide()" />
                                            </p:column>
                                        </p:dataTable>

                                    </h:panelGrid>
                                </p:dialog>

                                <!-- PESSOA EMPRESA EDIT -->
                                <p:dialog modal="true" width="650" height="400" widgetVar="dlg_pessoa_empresa" closable="true" header="Alterar Empresa" visible="#{fisicaBean.pessoaEmpresaEdit.id ne -1}">
                                    <p:ajax event="close" listener="#{fisicaBean.closePessoaEmpresa}" update=":form_pessoa_fisica:" />
                                    <h:panelGrid id="i_painel_pe_edit">
                                        <p:messages id="i_msg_pe" showSummary="true" showDetail="true" closable="true"/>
                                        <h:panelGrid columns="2">
                                            <h:column>
                                                <p:commandButton icon="ui-icon-search" title="Pesquisar Empresa" action="#{chamadaPaginaBean.pesquisaPessoaJuridica}" immediate="true" actionListener="#{genericaSessao.putString('tipoPessoaJuridica', 'juridicaPesquisaEdit')}"/>
                                            </h:column>
                                            <h:column>
                                                <h:panelGrid columns="5">
                                                    <p:outputLabel value="PESQUISAR EMPRESA " rendered="#{fisicaBean.pessoaEmpresaEdit.juridica.pessoa.id == -1}" style="border-bottom: 1px dashed gray; color: gray;" />
                                                    <p:outputLabel value="CNPJ: #{fisicaBean.pessoaEmpresaEdit.juridica.pessoa.documento} - #{fisicaBean.pessoaEmpresa.juridica.pessoa.nome}"  rendered="#{fisicaBean.pessoaEmpresaEdit.juridica.pessoa.id != -1}" style="font-weight: bold"/>
                                                    <p:commandButton icon="ui-icon-contact" update=":form_pessoa_fisica:i_pessoa_juridica_card" action="#{pessoaCardBean.cardJuridica(fisicaBean.pessoaEmpresaEdit.juridica.pessoa.id)}" oncomplete="PF('dlg_pessoa_juridica_card').show()" title="Ver detalhes" rendered="#{fisicaBean.pessoaEmpresaEdit.juridica.pessoa.id != -1}"/>
                                                </h:panelGrid>
                                            </h:column>
                                            <p:outputLabel value="Nome Fantasia: "/>
                                            <p:outputLabel value="#{fisicaBean.pessoaEmpresaEdit.juridica.fantasia}" style="font-weight: bold"/>
                                        </h:panelGrid>

                                        <h:panelGrid columns="3" style="margin-top: 10px">
                                            <h:column>                                        
                                                <p:outputLabel value="Data Admissão" /><br />
                                                <p:inputMask size="10" value="#{fisicaBean.pessoaEmpresaEdit.admissao}" mask="99/99/9999" style="margin-right: 20px; text-align: center">
                                                    <p:ajax event="change" update="@this" global="false"/>
                                                </p:inputMask>
                                            </h:column>

                                            <h:column>
                                                <p:outputLabel value="Data Demissão" /><br />
                                                <p:inputMask size="10" value="#{fisicaBean.pessoaEmpresaEdit.demissao}" mask="99/99/9999" style="text-align: center">
                                                    <p:ajax event="change" update="@this" />
                                                </p:inputMask>
                                            </h:column>

                                            <h:column>
                                                <p:outputLabel value="Código" /><br />
                                                <p:inputText size="10" value="#{fisicaBean.pessoaEmpresaEdit.codigo}">
                                                    <p:ajax event="change" update="@this" global="false"/>
                                                </p:inputText>
                                            </h:column>

                                            <h:column>
                                                <p:outputLabel value="Registro" /><br />
                                                <p:selectOneMenu value="#{fisicaBean.pessoaEmpresaEdit.nrRegistro}">
                                                    <p:ajax event="change" update="@this" global="false"/>
                                                    <f:selectItems value="#{fisicaBean.listNrRegistro}" />
                                                </p:selectOneMenu>
                                            </h:column>
                                        </h:panelGrid>                                

                                        <h:panelGrid columns="3" style="margin-top: 15px">
                                            <h:column>
                                            </h:column>
                                        </h:panelGrid>
                                    </h:panelGrid>
                                    <f:facet name="footer">
                                        <h:panelGrid columns="3" cellspacing="5">
                                            <p:commandButton value="Atualizar Empresa" action="#{fisicaBean.updatePessoaEmpresa()}" update=":form_pessoa_fisica:" />
                                            <p:commandButton value="Forçar Exclusão (Com vínculos)" action="#{fisicaBean.deletePessoaEmpresa()}" update=":form_pessoa_fisica:" title="CUIDADO ADMINISTRADOR: Força a exclusão caso haja vínculos" />
                                            <p:commandButton value="Fechar" action="#{fisicaBean.closePessoaEmpresa}" update=":form_pessoa_fisica:" />
                                        </h:panelGrid>
                                    </f:facet>
                                </p:dialog>

                                <!-- EXCLUIR BIOMETRIA -->
                                <p:dialog modal="true" width="400" widgetVar="dlg_delete_biometria" closable="true" header="Deseja excluir esta biometria?">
                                    <h:panelGrid columns="2">
                                        <p:commandButton value="Sim" title="Salvar" action="#{biometriaBean.delete(fisicaBean.fisica.pessoa)}" update="i_painel_mensagem, i_panel_pessoa_fisica" oncomplete="PF('dlg_delete_biometria').hide(); PF('dlg_painel_mensagem').show();" />
                                        <p:commandButton value="Não" title="Cancelar" oncomplete="PF('dlg_delete_biometria').hide();"/>
                                    </h:panelGrid>
                                </p:dialog>

                                <p:dialog  widgetVar="dlg_painel_salvar" modal="true" header="Deseja salvar/atualizar este registro?" width="400" resizable="false">
                                    <f:ajax event="close" listener="#{fisicaBean.setMensagem('')}" />
                                    <h:panelGroup id="i_painel_salvar">
                                        <h:panelGrid>
                                            <h:column rendered="#{fisicaBean.mensagem.contains('Documento (CPF')}">
                                                <h:outputLink value="https://www.receita.fazenda.gov.br/Aplicacoes/SSL/ATCTA/CPF/ConsultaSituacao/ConsultaPublica.asp?cpf=#{fisicaBean.fisica.pessoa.documento}&amp;nascimento=#{fisicaBean.fisica.nascimento}" target="_blank" >
                                                    <f:verbatim> CONSULTAR NA RECEITA </f:verbatim>
                                                </h:outputLink>
                                                <h:outputText value="#{genericaMensagem.getHtmlMessage('warn', fisicaBean.mensagem)}" escape="false" />
                                            </h:column>                                            
                                        </h:panelGrid>
                                    </h:panelGroup>
                                    <f:facet name="footer">                                        
                                        <h:panelGrid columns="2">
                                            <p:commandButton value="Sim" title="Salvar" action="#{fisicaBean.salvar}" update="i_painel_mensagem, i_panel_pessoa_fisica" oncomplete="PF('dlg_painel_salvar').hide(); PF('dlg_painel_mensagem').show();" />
                                            <p:commandButton value="Não" title="Cancelar" oncomplete="PF('dlg_painel_salvar').hide();" actionListener="#{fisicaBean.setMensagem('')}"/>
                                        </h:panelGrid>                                    </f:facet>
                                </p:dialog>
                                <p:dialog id="i_painel_excluir" widgetVar="dlg_painel_excluir" modal="true" header="Deseja excluir este registro?" width="400" resizable="false">
                                    <h:panelGrid columns="2">
                                        <p:commandButton value="Sim" title="Excluir" action="#{fisicaBean.excluir}" update="i_painel_mensagem, i_panel_pessoa_fisica" oncomplete="PF('dlg_painel_excluir').hide(); PF('dlg_painel_mensagem').show();" />
                                        <p:commandButton value="Não" title="Cancelar" oncomplete="PF('dlg_painel_excluir').hide();"/>
                                    </h:panelGrid>
                                </p:dialog>
                                <p:dialog widgetVar="dlg_painel_mensagem" modal="true" header="Mensagem"  width="400" resizable="false">
                                    <h:panelGrid id="i_painel_mensagem">
                                        <p:messages showSummary="true" showDetail="true" closable="true" />
                                        <p:outputLabel value="#{fisicaBean.mensagem}"/>                                        
                                    </h:panelGrid>
                                    <br /><br />
                                    <p:commandButton value="Ok" title="Ok" onclick="PF('dlg_painel_mensagem').hide();" />
                                </p:dialog>
                            </h:panelGrid>
                            <p:dialog widgetVar="dlg_pessoa_juridica_card" modal="true" resizable="false" height="400" width="600" header="Detalhes">
                                <p:ajax event="close" listener="#{pessoaCardBean.close}"/>
                                <p:panel id="i_pessoa_juridica_card">
                                    <ui:include src="templates/templatePessoaJuridicaCard.xhtml">
                                        <ui:param name="idPessoa" value="#{fisicaBean.pessoaEmpresa.juridica.pessoa.id}" />
                                    </ui:include>      
                                </p:panel>
                            </p:dialog>
                            <p:dialog widgetVar="dlg_pessoa_fisica_card" modal="true" resizable="false" height="400" width="400" header="Detalhes">
                                <p:ajax event="close" listener="#{pessoaCardBean.close}"/>  
                                <p:panel id="i_pessoa_fisica_card">
                                    <ui:include src="templates/templatePessoaFisicaCard.xhtml" />
                                </p:panel>
                            </p:dialog>                              
                            <p:dialog widgetVar="dlg_pesquisa_endereco" modal="true" resizable="false" height="600" width="1000" header="Pesquisar Endereço">
                                <p:ajax event="close" listener="#{pesquisaEnderecoBean.clear()}"/>
                                <p:panel id="i_pesquisa_endereco" styleClass="no-border">                                    
                                    <ui:include src="templates/templatePesquisaEndereco.xhtml" />    
                                </p:panel>
                            </p:dialog>
                            <p:dialog widgetVar="dlg_recadastro" modal="true" resizable="false" height="250" width="250" header="Data de Recadastro">
                                <p:ajax event="close" listener="#{fisicaBean.clear(2)}" />
                                <h:panelGrid id="i_dlg_recadastro">
                                    <p:calendar value="#{fisicaBean.dtRecadastro}" pattern="dd/MM/yyyy" mask="99/99/9999" locale="pt_BR">
                                        <p:ajax event="dateSelect" update=":form_pessoa_fisica:i_recadastro"/>
                                    </p:calendar>
                                </h:panelGrid>
                                <f:facet name="footer">
                                    <h:panelGrid columns="2">
                                        <p:commandButton value="Confirmar" title="Confirmar" onclick="PF('dlg_recadastro').hide();" update=":form_pessoa_fisica:i_tabview_fisica" action="#{fisicaBean.updateDataRecadastro}"/>
                                        <p:commandButton value="Cancelar" title="Cancelar" onclick="PF('dlg_recadastro').hide();" action="#{fisicaBean.clear(2)}" />                                        
                                    </h:panelGrid>
                                </f:facet>
                            </p:dialog>
                            <p:dialog widgetVar="dlg_sugestoes" modal="true" resizable="false" height="250" width="1024" header="Existem cadastros com mesmo nome">
                                <h:panelGroup id="i_sugestoes" layout="block">
                                    <p:dataTable value="#{fisicaBean.listFisicaSugestao}" var="fisicaSugestao" emptyMessage="Nenhum registro encontrado" scrollHeight="200" scrollable="true" paginator="true" rows="100">
                                        <p:ajax event="rowToggle" listener="#{fisicaBean.listenerSocios(fisicaSugestao.pessoa.id)}" />
                                        <p:column style="width:5%">  
                                            <p:rowToggler />  
                                        </p:column>
                                        <p:column headerText="Nome">
                                            <p:commandLink action="#{fisicaBean.useFisicaSugestao(fisicaSugestao)}" update=":form_pessoa_fisica: :form_fisica_detalhes: :form_aplicativos:" value="#{fisicaSugestao.pessoa.nome}" title="#{fisicaSugestao.pessoa.id}"/>
                                        </p:column>
                                        <p:column headerText="RG" width="80"  styleClass="text-center">
                                            <p:commandLink action="#{fisicaBean.useFisicaSugestao(fisicaSugestao)}" update=":form_pessoa_fisica: :form_fisica_detalhes: :form_aplicativos:" value="#{fisicaSugestao.rg}"/>
                                        </p:column>

                                        <p:column headerText="CPF" width="100"  styleClass="text-center">
                                            <p:commandLink action="#{fisicaBean.useFisicaSugestao(fisicaSugestao)}" update=":form_pessoa_fisica: :form_fisica_detalhes: :form_aplicativos:" value="#{fisicaSugestao.pessoa.documento}"/>
                                        </p:column>                            

                                        <p:column headerText="E-mail">
                                            <h:outputText value="#{fisicaSugestao.pessoa.email1}"/>
                                        </p:column>

                                        <p:column headerText="Telefone" width="100" styleClass="text-center">
                                            <h:outputText value="#{fisicaSugestao.pessoa.telefone1}"/>
                                        </p:column>

                                        <p:rowExpansion>
                                            <h:panelGrid columns="5" style="height: 40px" styleClass="sbb">
                                                <p:column>
                                                    <h:outputText value="CÓDIGO" style="font-weight: bold"/><br />
                                                    <h:outputText value="#{fisicaSugestao.pessoa.id}"/>
                                                </p:column>
                                                <p:column>
                                                    <h:outputText value="Dt Nascimento" style="font-weight: bold"/><br />
                                                    <h:outputText value="#{fisicaSugestao.nascimento}"/>
                                                </p:column>
                                                <p:column>
                                                    <h:outputText value="Local de trabalho" style="font-weight: bold"/><br />
                                                    <h:outputText value="#{fisicaBean.pessoaEmpresaString(fisicaSugestao)}"/>
                                                </p:column>
                                                <p:column>
                                                    <h:outputText value="Pessoa cadastrada em oposição!" style="font-weight: bold; color: red;" rendered="#{fisicaBean.existePessoaOposicaoPorDocumento(fisicaSugestao.pessoa.documento)}"/>
                                                </p:column>
                                                <p:column>
                                                    <p:commandButton icon="ui-icon-contact" update=":form_pessoa_fisica:i_pessoa_fisica_card" onclick="PF('dlg_pessoa_fisica_card').show()" action="#{pessoaCardBean.cardFisica(fisicaSugestao.pessoa.id)}" title="Ver detalhes" />
                                                </p:column>
                                            </h:panelGrid>
                                            <h:panelGrid style="height: 40px" styleClass="sbb">
                                                <h:outputLabel value="Endereço: #{fisicaSugestao.pessoa.pessoaEndereco.enderecoCompletoString} " styleClass="bold font-color-red"/>
                                            </h:panelGrid>
                                            <p:panel header="Titular / Dependente(s) - Matrícula: #{fisicaSugestao.pessoa.socios.matriculaSocios.nrMatricula} - Categoria: #{fisicaSugestao.pessoa.socios.matriculaSocios.categoria.categoria}" rendered="#{not empty fisicaBean.listaSocios}">
                                                <p:dataTable value="#{fisicaBean.listaSocios}" var="dependentes">
                                                    <p:column headerText="Nome">                                                
                                                        <p:commandLink action="#{fisicaBean.useFisicaSugestao(dependentes.servicoPessoa.pessoa.fisica)}" value="#{dependentes.servicoPessoa.pessoa.nome}" title="Editar pessoa" styleClass="#{dependentes.parentesco.parentesco eq 'TITULAR' ? 'font-color-red bold' : ''}"/>
                                                    </p:column>
                                                    <p:column headerText="Parentesco" styleClass="#{dependentes.parentesco.parentesco eq 'TITULAR' ? 'font-color-red bold' : ''}">
                                                        #{dependentes.parentesco.parentesco}
                                                    </p:column>
                                                    <p:column width="30">
                                                        <p:commandButton icon="ui-icon-contact" update=":form_pessoa_fisica:i_pessoa_fisica_card" onclick="PF('dlg_pessoa_fisica_card').show()" action="#{pessoaCardBean.cardFisica(dependentes.servicoPessoa.pessoa.id)}" title="Ver detalhes" />
                                                    </p:column>
                                                </p:dataTable>                                            
                                            </p:panel>
                                            <h:column>
                                                <p:panel rendered="#{empty fisicaBean.listaSocios}">
                                                    <p:outputLabel value="NÃO SÓCIO" styleClass="bold font-color-red" style="font-size: 16pt!important"/>
                                                </p:panel>
                                            </h:column>                                            
                                        </p:rowExpansion>
                                    </p:dataTable>                                    
                                </h:panelGroup>
                                <f:facet name="footer">
                                    <h:panelGrid columns="2">
                                        <p:commandButton value="Fechar" title="Fechar" onclick="PF('dlg_sugestoes').hide();"  />                                        
                                    </h:panelGrid>
                                </f:facet>
                            </p:dialog>
                            <p:dialog widgetVar="dlg_solicita_alteracao" modal="true" resizable="false" height="200" width="600" header="Solicitação de alteração" closeOnEscape="true">
                                <p:ajax event="close" update=":form_pessoa_fisica:"/>
                                <h:panelGroup id="i_solicita_alteracao">
                                    <p:messages showDetail="true" showSummary="true" />
                                    <h:panelGrid style="width: 100%" >
                                        <p:outputLabel value="Alterar para:" />
                                        <p:inputMask value="#{fisicaBean.sisAutorizacoes.dadosAlterados}" mask="#{fisicaBean.mascaraAlteracao}" style="width: 100%" >
                                            <p:ajax event="change" update="@this" global="false"/>                                        
                                        </p:inputMask>
                                        <p:inputTextarea value="#{fisicaBean.sisAutorizacoes.motivoSolicitacao}" style="width: 100%"  rows="5" maxlength="500" placeholder="Motivo da solicitação" styleClass="margin-top-max">
                                            <p:ajax event="change" update="@this" global="false"/>
                                        </p:inputTextarea>
                                    </h:panelGrid>
                                </h:panelGroup>
                                <f:facet name="footer">
                                    <h:panelGrid columns="3">
                                        <p:commandButton value="Confirmar" title="Confirmar" action="#{fisicaBean.sendRequest}"/>
                                        <p:commandButton value="Sair" title="Sair" onclick="PF('dlg_solicita_alteracao').hide();" />                                        
                                    </h:panelGrid>
                                </f:facet>
                            </p:dialog>
                            <p:dialog widgetVar="dlg_solicitacoes" modal="true" resizable="false" height="200" width="1000" header="Solicitações" closeOnEscape="true">
                                <h:panelGroup id="i_solicitacoes">
                                    <p:dataTable value="#{fisicaBean.listSisAutorizacoes}" var="sisAutorizacoes" paginator="true" rows="20" emptyMessage="Nenhum registro encontrado!">
                                        <p:column style="width:15px">  
                                            <p:rowToggler />  
                                        </p:column>                                          
                                        <p:column width="30">
                                            <p:commandButton icon="ui-icon-close" action="#{fisicaBean.removeRequest(sisAutorizacoes)}" update=":form_pessoa_fisica:i_solicitacoes" disabled="#{(sisAutorizacoes.dtAutorizacao != null and sisAutorizacoes.autorizado)}" rendered="#{segurancaUtilitariosBean.sessaoUsuario.id eq sisAutorizacoes.operador.id}"/>
                                        </p:column>
                                        <p:column headerText="Data" width="80" styleClass="text-center">
                                            #{sisAutorizacoes.solicitacao}
                                        </p:column>
                                        <p:column headerText="Pessoa" width="80" styleClass="text-center">
                                            #{sisAutorizacoes.pessoa.nome}
                                        </p:column>
                                        <p:column headerText="Autorização" width="80" styleClass="text-center">
                                            #{sisAutorizacoes.autorizacao}
                                        </p:column>
                                        <p:column headerText="Motivo">
                                            #{sisAutorizacoes.motivoSolicitacao}                                            
                                        </p:column>
                                        <p:column headerText="Dados Originais">
                                            #{sisAutorizacoes.dadosOriginais}
                                        </p:column>
                                        <p:column headerText="Dados Alterados">
                                            #{sisAutorizacoes.dadosAlterados}
                                        </p:column>
                                        <p:rowExpansion>
                                            #{sisAutorizacoes.motivoRecusa} <br />
                                            OPERADOR: #{sisAutorizacoes.operador.pessoa.nome} <br />
                                            GESTOR: #{sisAutorizacoes.gestor.pessoa.nome} <br />
                                        </p:rowExpansion>
                                    </p:dataTable>
                                </h:panelGroup>
                                <f:facet name="footer">
                                    <h:panelGrid columns="2">
                                        <p:commandButton value="Fechar" title="Fechar" onclick="PF('dlg_solicitacoes').hide();" />                                        
                                    </h:panelGrid>
                                </f:facet>
                            </p:dialog>                            
                        </h:form>
                    </p:panel>
                    <h:form id="form_aplicativos">
                        <p:dialog widgetVar="dlg_waiting_biometria" modal="true" resizable="false" header="Aguarde..." visible="#{biometriaBean.disabled}" closable="false">
                            <h:outputLabel value="Não feche essa janela durante a operação. Caso apresente erros contate o administrador do sistema ou reinicie o aplicativo da leitura." />
                            <br /><br />
                            <p:commandButton value="Cancelar" title="Cancelar" update=":form_aplicativos:i_message_err_x" onclick="PF('dlg_waiting_biometria_erro').show();" action="#{biometriaBean.abort(fisicaBean.fisica.pessoa)}" ajax="false"/>
                        </p:dialog>
                        <p:poll id="i_app_leitor" interval="#{biometriaBean.status ? 5 : 60}" update="i_app_leitor :form_pessoa_fisica:i_app_message" stop="#{biometriaBean.disabled}" autoStart="#{fisicaBean.fisica.id == -1 ? false : (biometriaBean.openBiometria ? true : false)}" delay="5" ignoreAutoUpdate="true" />
                        <p:dialog widgetVar="dlg_waiting_biometria_info" modal="true" resizable="false" header="Erro" closable="true">
                            <h:outputLabel value="Dispostivo de leitura esta desconectado. Caso apresente erros contate o administrador do sistema ou reinicie o aplicativo da leitura." styleClass="font-color-red bold"/>
                            <f:facet name="footer">
                                <p:commandButton value="Ok" title="Ok" onclick="PF('dlg_waiting_biometria_info').hide();" update="i_app_leitor"/>
                            </f:facet>
                        </p:dialog>
                        <p:dialog widgetVar="dlg_waiting_biometria_erro" modal="true" resizable="false" header="Mensagem Sistema" closable="true" visible="#{biometriaBean.open_modal_cancel}">
                            <p:ajax event="close" update=":form_aplicativos:" listener="#{biometriaBean.closeModalApp()}"/>
                            <h:panelGrid id="i_message_err_x">
                                <p:messages showSummary="true" showDetail="true" closable="true"/>
                            </h:panelGrid>
                            <f:facet name="footer">
                                <p:commandButton value="Ok" title="Ok" onclick="PF('dlg_waiting_biometria_erro').hide();" update="i_app_leitor" action="#{biometriaBean.closeModalApp()}"/>
                            </f:facet>                                
                        </p:dialog>
                    </h:form>
                    <h:form id="form_fisica_detalhes">
                        <p:dialog widgetVar="dlg_sorteios" modal="true" resizable="false" header="Sorteios">
                            <h:panelGroup id="i_sorteios" layout="block">
                                <p:dataTable value="#{sorteioMovimentoBean.listSorteioMovimento}" var="sorteioMovimento" emptyMessage="Nenhum resultado encontrado!">
                                    <p:column headerText="Sorteio">#{sorteioMovimento.sorteio.descricao}</p:column>
                                    <p:column headerText="Data">#{sorteioMovimento.sorteioString}</p:column>
                                </p:dataTable>
                            </h:panelGroup>
                        </p:dialog>
                    </h:form>
                    <h:form id="form_ws_pf">
                        <p:commandLink style="width: 0; height: 0" id="update_autorizacao_true">
                            <p:ajax event="click" listener="#{fisicaBean.refreshSisAutorizacao(true)}" />
                        </p:commandLink>
                        <p:commandLink style="width: 0; height: 0" id="update_autorizacao_false">
                            <p:ajax event="click" listener="#{fisicaBean.refreshSisAutorizacao(false)}" />
                        </p:commandLink>
                        <span id="messageGoesHere"></span>
                        <script type="text/javascript">
                            var urlWs = "#{defaults.wsScheme}://#{defaults.URLLocalContextPath}/ws_socket/client:#{controleUsuarioBean.clienteLowerCaseString},pf:id:#{fisicaBean.fisica.id}";
                                var ws = new WebSocket(urlWs);
                                ws.onopen = function (event) {
                                    console.log("Connected ", event);
                                };

                                ws.onmessage = function (event) {
                                    if (event.data === "true") {
                                        document.getElementById("form_ws_pf:update_autorizacao_true").click();
                                    } else if (event.data === "false") {
                                        document.getElementById("form_ws_pf:update_autorizacao_false").click();
                                    }
                                };

                                ws.onerror = function (event) {
                                    console.log("Error ", event);
                                };

                                ws.onclose = function (event) {
                                    console.log("Error ", event);
                                };
                        </script>
                    </h:form>
                </f:view>

                <!-- FINALIZA div wrap main -->
            </div>
        </div>
        <!-- FINALIZA div wrap main -->

        <div id="footerx">
            <f:subview id="footer">
                <ui:include src="templates/templateFooter.xhtml"/>
            </f:subview>
        </div>                   
    </h:body>
</ui:composition>
